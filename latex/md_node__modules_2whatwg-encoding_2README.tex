\chapter{Decode According to the WHATWG Encoding Standard}
\hypertarget{md_node__modules_2whatwg-encoding_2README}{}\label{md_node__modules_2whatwg-encoding_2README}\index{Decode According to the WHATWG Encoding Standard@{Decode According to the WHATWG Encoding Standard}}
\label{md_node__modules_2whatwg-encoding_2README_autotoc_md29892}%
\Hypertarget{md_node__modules_2whatwg-encoding_2README_autotoc_md29892}%
 This package provides a thin layer on top of \href{https://github.com/ashtuchkin/iconv-lite}{\texttt{ iconv-\/lite}} which makes it expose some of the same primitives as the \href{https://encoding.spec.whatwg.org/}{\texttt{ Encoding Standard}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ whatwgEncoding\ =\ require("{}whatwg-\/encoding"{});}
\DoxyCodeLine{}
\DoxyCodeLine{console.assert(whatwgEncoding.labelToName("{}latin1"{})\ ===\ "{}windows-\/1252"{});}
\DoxyCodeLine{console.assert(whatwgEncoding.labelToName("{}\ \ CYRILLic\ "{})\ ===\ "{}ISO-\/8859-\/5"{});}
\DoxyCodeLine{}
\DoxyCodeLine{console.assert(whatwgEncoding.isSupported("{}IBM866"{})\ ===\ true);}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Not\ supported\ by\ the\ Encoding\ Standard}
\DoxyCodeLine{console.assert(whatwgEncoding.isSupported("{}UTF-\/32"{})\ ===\ false);}
\DoxyCodeLine{}
\DoxyCodeLine{//\ In\ the\ Encoding\ Standard,\ but\ this\ package\ can't\ decode\ it}
\DoxyCodeLine{console.assert(whatwgEncoding.isSupported("{}x-\/mac-\/cyrillic"{})\ ===\ false);}
\DoxyCodeLine{}
\DoxyCodeLine{console.assert(whatwgEncoding.getBOMEncoding(new\ Buffer([0xFE,\ 0xFF]))\ ===\ "{}UTF-\/16BE"{});}
\DoxyCodeLine{console.assert(whatwgEncoding.getBOMEncoding(new\ Buffer([0x48,\ 0x69]))\ ===\ null);}
\DoxyCodeLine{}
\DoxyCodeLine{console.assert(whatwgEncoding.decode(new\ Buffer([0x48,\ 0x69]),\ "{}UTF-\/8"{})\ ===\ "{}Hi"{});}

\end{DoxyCode}
\hypertarget{md_node__modules_2whatwg-encoding_2README_autotoc_md29893}{}\doxysection{\texorpdfstring{API}{API}}\label{md_node__modules_2whatwg-encoding_2README_autotoc_md29893}

\begin{DoxyItemize}
\item {\ttfamily decode(buffer, fallback\+Encoding\+Name)}\+: performs the \href{https://encoding.spec.whatwg.org/\#decode}{\texttt{ decode}} algorithm (in which any BOM will override the passed fallback encoding), and returns the resulting string
\item {\ttfamily label\+To\+Name(label)}\+: performs the \href{https://encoding.spec.whatwg.org/\#concept-encoding-get}{\texttt{ get an encoding}} algorithm and returns the resulting encoding\textquotesingle{}s name, or {\ttfamily null} for failure
\item {\ttfamily is\+Supported(name)}\+: returns whether the encoding is one of \href{https://encoding.spec.whatwg.org/\#names-and-labels}{\texttt{ the encodings}} of the Encoding Standard, {\itshape and} is an encoding that this package can decode (via iconv-\/lite)
\item {\ttfamily get\+BOMEncoding(buffer)}\+: sniffs the first 2â€“3 bytes of the supplied {\ttfamily Buffer}, returning one of the encoding names {\ttfamily "{}\+UTF-\/8"{}}, {\ttfamily "{}\+UTF-\/16\+LE"{}}, or {\ttfamily "{}\+UTF-\/16\+BE"{}} if the appropriate BOM is present, or {\ttfamily null} if no BOM is present
\end{DoxyItemize}\hypertarget{md_node__modules_2whatwg-encoding_2README_autotoc_md29894}{}\doxysection{\texorpdfstring{Unsupported encodings}{Unsupported encodings}}\label{md_node__modules_2whatwg-encoding_2README_autotoc_md29894}
Since we rely on iconv-\/lite, we are limited to support only the encodings that they support. Currently we are missing support for\+:


\begin{DoxyItemize}
\item ISO-\/2022-\/\+JP
\item ISO-\/8859-\/8-\/I
\item replacement
\item x-\/mac-\/cyrillic
\item x-\/user-\/defined
\end{DoxyItemize}

Passing these encoding names will return {\ttfamily false} when calling {\ttfamily is\+Supported}, and passing any of the possible labels for these encodings to {\ttfamily label\+To\+Name} will return {\ttfamily null}.\hypertarget{md_node__modules_2whatwg-encoding_2README_autotoc_md29895}{}\doxysection{\texorpdfstring{Credits}{Credits}}\label{md_node__modules_2whatwg-encoding_2README_autotoc_md29895}
This package was originally based on the excellent work of \href{https://github.com/nicolashenry}{\texttt{ @nicolashenry}}, \href{https://github.com/tmpvar/jsdom/blob/7ce11776ce161e8d5921a7a183585327400f786b/lib/jsdom/living/helpers/encoding.js}{\texttt{ in jsdom}}. It has since been pulled out into this separate package.\hypertarget{md_node__modules_2whatwg-encoding_2README_autotoc_md29896}{}\doxysection{\texorpdfstring{Alternatives}{Alternatives}}\label{md_node__modules_2whatwg-encoding_2README_autotoc_md29896}
If you are looking for a Java\+Script implementation of the Encoding Standard\textquotesingle{}s {\ttfamily Text\+Encoder} and {\ttfamily Text\+Decoder} APIs, you\textquotesingle{}ll want \href{https://github.com/inexorabletash}{\texttt{ @inexorabletash}}\textquotesingle{}s \href{https://github.com/inexorabletash/text-encoding}{\texttt{ text-\/encoding}} package. 