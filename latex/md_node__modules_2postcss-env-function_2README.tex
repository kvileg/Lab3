\chapter{Post\+CSS Environment Variables \texorpdfstring{$<$}{<}a href="{}https\+://github.\+com/postcss/postcss"{} \texorpdfstring{$>$}{>}\texorpdfstring{$<$}{<}img src=\textbackslash{}"{}https\+://postcss.\+github.\+io/postcss/logo.\+svg\textbackslash{}"{} alt=\textbackslash{}"{}\+Post\+CSS Logo\textbackslash{}"{} width=\textbackslash{}"{}90\textbackslash{}"{} height=\textbackslash{}"{}90\textbackslash{}"{} align=\textbackslash{}"{}right\textbackslash{}"{}\texorpdfstring{$>$}{>}\texorpdfstring{$<$}{<}/a\texorpdfstring{$>$}{>}}
\hypertarget{md_node__modules_2postcss-env-function_2README}{}\label{md_node__modules_2postcss-env-function_2README}\index{PostCSS Environment Variables $<$a href="{}https://github.com/postcss/postcss"{} $>$$<$img src=\textbackslash{}"{}https://postcss.github.io/postcss/logo.svg\textbackslash{}"{} alt=\textbackslash{}"{}PostCSS Logo\textbackslash{}"{} width=\textbackslash{}"{}90\textbackslash{}"{} height=\textbackslash{}"{}90\textbackslash{}"{} align=\textbackslash{}"{}right\textbackslash{}"{}$>$$<$/a$>$@{PostCSS Environment Variables $<$a href=""https://github.com/postcss/postcss"" $>$$<$img src=\textbackslash{}""https://postcss.github.io/postcss/logo.svg\textbackslash{}"" alt=\textbackslash{}""PostCSS Logo\textbackslash{}"" width=\textbackslash{}""90\textbackslash{}"" height=\textbackslash{}""90\textbackslash{}"" align=\textbackslash{}""right\textbackslash{}""$>$$<$/a$>$}}
\label{md_node__modules_2postcss-env-function_2README_autotoc_md21023}%
\Hypertarget{md_node__modules_2postcss-env-function_2README_autotoc_md21023}%
 \href{https://www.npmjs.com/package/postcss-env-function}{\texttt{ \texorpdfstring{$<$}{<}img alt="{}NPM Version"{} src="{}https\+://img.\+shields.\+io/npm/v/postcss-\/env-\/function.\+svg"{} height="{}20"{}\texorpdfstring{$>$}{>}}} \href{https://cssdb.org/\#environment-variables}{\texttt{ \texorpdfstring{$<$}{<}img alt="{}CSS Standard Status"{} src="{}https\+://cssdb.\+org/images/badges/environment-\/variables.\+svg"{} height="{}20"{}\texorpdfstring{$>$}{>}}} \href{https://github.com/csstools/postcss-plugins/actions/workflows/test.yml?query=workflow/test}{\texttt{ \texorpdfstring{$<$}{<}img alt="{}Build Status"{} src="{}https\+://github.\+com/csstools/postcss-\/plugins/actions/workflows/test.\+yml/badge.\+svg"{} height="{}20"{}\texorpdfstring{$>$}{>}}} \href{https://discord.gg/bUadyRwkJS}{\texttt{ \texorpdfstring{$<$}{<}img alt="{}Discord"{} src="{}https\+://shields.\+io/badge/\+Discord-\/5865\+F2?logo=discord\&logo\+Color=white"{}\texorpdfstring{$>$}{>}}}

\href{https://github.com/csstools/postcss-plugins/tree/main/plugins/postcss-env-function}{\texttt{ Post\+CSS Environment Variables}} lets you use {\ttfamily env()} variables in CSS, following the \href{https://drafts.csswg.org/css-env-1/}{\texttt{ CSS Environment Variables}} specification.


\begin{DoxyCode}{0}
\DoxyCodeLine{@media\ (max-\/width:\ env(-\/-\/branding-\/small))\ \{}
\DoxyCodeLine{\ \ body\ \{}
\DoxyCodeLine{\ \ \ \ padding:\ env(-\/-\/branding-\/padding);}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{/*\ becomes\ */}
\DoxyCodeLine{}
\DoxyCodeLine{@media\ (min-\/width:\ 600px)\ \{}
\DoxyCodeLine{\ \ body\ \{}
\DoxyCodeLine{\ \ \ \ padding:\ 20px;}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{/*\ when\ the\ \`{}importFrom`\ option\ is:\ \{}
\DoxyCodeLine{\ \ "{}environmentVariables"{}:\ \{}
\DoxyCodeLine{\ \ \ \ "{}-\/-\/branding-\/small"{}:\ "{}600px"{},}
\DoxyCodeLine{\ \ \ \ "{}-\/-\/branding-\/padding"{}:\ "{}20px"{}}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}\ */}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-env-function_2README_autotoc_md21024}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{md_node__modules_2postcss-env-function_2README_autotoc_md21024}
Add \href{https://github.com/csstools/postcss-plugins/tree/main/plugins/postcss-env-function}{\texttt{ Post\+CSS Environment Variables}} to your project\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ postcss\ postcss-\/env-\/function\ -\/-\/save-\/dev}

\end{DoxyCode}


Use it as a \href{https://github.com/postcss/postcss}{\texttt{ Post\+CSS}} plugin\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ postcss\ =\ require('postcss')}
\DoxyCodeLine{const\ postcssEnvFunction\ =\ require('postcss-\/env-\/function')}
\DoxyCodeLine{}
\DoxyCodeLine{postcss([}
\DoxyCodeLine{\ \ postcssEnvFunction(/*\ pluginOptions\ */)}
\DoxyCodeLine{]).process(YOUR\_CSS\ /*,\ processOptions\ */)}

\end{DoxyCode}


\href{https://github.com/csstools/postcss-plugins/tree/main/plugins/postcss-env-function}{\texttt{ Post\+CSS Environment Variables}} runs in all Node environments, with special instructions for\+:

\texorpdfstring{$\vert$}{|} \href{INSTALL.md\#node}{\texttt{ Node}} \texorpdfstring{$\vert$}{|} \href{INSTALL.md\#postcss-cli}{\texttt{ Post\+CSS CLI}} \texorpdfstring{$\vert$}{|} \href{INSTALL.md\#webpack}{\texttt{ Webpack}} \texorpdfstring{$\vert$}{|} \href{INSTALL.md\#create-react-app}{\texttt{ Create React App}} \texorpdfstring{$\vert$}{|} \href{INSTALL.md\#gulp}{\texttt{ Gulp}} \texorpdfstring{$\vert$}{|} \href{INSTALL.md\#grunt}{\texttt{ Grunt}} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} --- \texorpdfstring{$\vert$}{|} --- \texorpdfstring{$\vert$}{|} --- \texorpdfstring{$\vert$}{|} --- \texorpdfstring{$\vert$}{|} --- \texorpdfstring{$\vert$}{|} --- \texorpdfstring{$\vert$}{|}\hypertarget{md_node__modules_2postcss-env-function_2README_autotoc_md21025}{}\doxysection{\texorpdfstring{Options}{Options}}\label{md_node__modules_2postcss-env-function_2README_autotoc_md21025}
\hypertarget{md_node__modules_2postcss-env-function_2README_autotoc_md21026}{}\doxysubsection{\texorpdfstring{import\+From}{importFrom}}\label{md_node__modules_2postcss-env-function_2README_autotoc_md21026}
The {\ttfamily import\+From} option specifies sources where Environment Variables can be imported from, which might be JS and JSON files, functions, and directly passed objects.


\begin{DoxyCode}{0}
\DoxyCodeLine{postcssEnvFunction(\{}
\DoxyCodeLine{\ \ importFrom:\ 'path/to/file.js'\ /*\ module.exports\ =\ \{}
\DoxyCodeLine{\ \ \ \ \ \ environmentVariables:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ '-\/-\/branding-\/padding':\ '20px',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ '-\/-\/branding-\/small':\ '600px'}
\DoxyCodeLine{\ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}\ */}
\DoxyCodeLine{\})}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{@media\ (max-\/width:\ env(-\/-\/branding-\/small))\ \{}
\DoxyCodeLine{\ \ body\ \{}
\DoxyCodeLine{\ \ \ \ padding:\ env(-\/-\/branding-\/padding);}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{/*\ becomes\ */}
\DoxyCodeLine{}
\DoxyCodeLine{@media\ (min-\/width:\ 600px)\ \{}
\DoxyCodeLine{\ \ body\ \{}
\DoxyCodeLine{\ \ \ \ padding:\ 20px;}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


Multiple sources can be passed into this option, and they will be parsed in the order they are received. Java\+Script files, JSON files, functions, and objects will need to namespace Custom Properties using the {\ttfamily environment\+Variables} or {\ttfamily environment-\/variables} key.


\begin{DoxyCode}{0}
\DoxyCodeLine{postcssEnvFunction(\{}
\DoxyCodeLine{\ \ importFrom:\ [}
\DoxyCodeLine{\ \ \ \ /*\ Import\ from\ a\ CommonJS\ file:}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{\ \ \ \ module.exports\ =\ \{}
\DoxyCodeLine{\ \ \ \ \ \ environmentVariables:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ '-\/-\/branding-\/padding':\ '20px'}
\DoxyCodeLine{\ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}\ */}
\DoxyCodeLine{\ \ \ \ 'path/to/file.js',}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ /*\ Import\ from\ a\ JSON\ file:}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ "{}environment-\/variables"{}:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}-\/-\/branding-\/padding"{}:\ "{}20px"{}}
\DoxyCodeLine{\ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}\ */}
\DoxyCodeLine{\ \ \ \ 'and/then/this.json',}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ /*\ Import\ from\ an\ JavaScript\ Object:\ */}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ environmentVariables:\ \{\ '-\/-\/branding-\/padding':\ '20px'\ \}}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ /*\ Import\ from\ a\ JavaScript\ Function:\ */}
\DoxyCodeLine{\ \ \ \ ()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ const\ environmentVariables\ =\ \{\ '-\/-\/branding-\/padding':\ '20px'\ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ return\ \{\ environmentVariables\ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ ]}
\DoxyCodeLine{\})}

\end{DoxyCode}


See example imports written in \href{test/import-variables.js}{\texttt{ JS}} and \href{test/import-variables.json}{\texttt{ JSON}}. Currently only valid \mbox{[}custom property names\mbox{]} (beginning with {\ttfamily -\/-\/}) are accepted. Not all valid \href{https://drafts.csswg.org/css-syntax-3/\#typedef-declaration-value}{\texttt{ declaration value names}} are accepted.\hypertarget{md_node__modules_2postcss-env-function_2README_autotoc_md21027}{}\doxysubsection{\texorpdfstring{disable\+Deprecation\+Notice}{disableDeprecationNotice}}\label{md_node__modules_2postcss-env-function_2README_autotoc_md21027}
Silence the deprecation notice that is printed to the console when using {\ttfamily import\+From}\`{}.

\begin{quote}
postcss-\/env-\/function is deprecated and will be removed. Check the discussion on github for more details. \href{https://github.com/csstools/postcss-plugins/discussions/192}{\texttt{ https\+://github.\+com/csstools/postcss-\/plugins/discussions/192}} \end{quote}
