\chapter{whatwg-\/url}
\hypertarget{md_node__modules_2workbox-build_2node__modules_2whatwg-url_2README}{}\label{md_node__modules_2workbox-build_2node__modules_2whatwg-url_2README}\index{whatwg-\/url@{whatwg-\/url}}
\label{md_node__modules_2workbox-build_2node__modules_2whatwg-url_2README_autotoc_md30335}%
\Hypertarget{md_node__modules_2workbox-build_2node__modules_2whatwg-url_2README_autotoc_md30335}%
 whatwg-\/url is a full implementation of the WHATWG \href{https://url.spec.whatwg.org/}{\texttt{ URL Standard}}. It can be used standalone, but it also exposes a lot of the internal algorithms that are useful for integrating a URL parser into a project like \href{https://github.com/tmpvar/jsdom}{\texttt{ jsdom}}.\hypertarget{md_node__modules_2workbox-build_2node__modules_2whatwg-url_2README_autotoc_md30336}{}\doxysection{\texorpdfstring{Specification conformance}{Specification conformance}}\label{md_node__modules_2workbox-build_2node__modules_2whatwg-url_2README_autotoc_md30336}
whatwg-\/url is currently up to date with the URL spec up to commit \href{https://github.com/whatwg/url/commit/7ae1c691c96f0d82fafa24c33aa1e8df9ffbf2bc}{\texttt{ 7ae1c69}}.

For {\ttfamily file\+:} URLs, whose \href{https://url.spec.whatwg.org/\#concept-url-origin}{\texttt{ origin is left unspecified}}, whatwg-\/url chooses to use a new opaque origin (which serializes to {\ttfamily "{}null"{}}).\hypertarget{md_node__modules_2workbox-build_2node__modules_2whatwg-url_2README_autotoc_md30337}{}\doxysection{\texorpdfstring{API}{API}}\label{md_node__modules_2workbox-build_2node__modules_2whatwg-url_2README_autotoc_md30337}
\hypertarget{md_node__modules_2workbox-build_2node__modules_2whatwg-url_2README_autotoc_md30338}{}\doxysubsection{\texorpdfstring{The $<$tt$>$\+URL$<$/tt$>$ and $<$tt$>$\+URLSearch\+Params$<$/tt$>$ classes}{The <tt>URL</tt> and <tt>URLSearchParams</tt> classes}}\label{md_node__modules_2workbox-build_2node__modules_2whatwg-url_2README_autotoc_md30338}
The main API is provided by the \href{https://url.spec.whatwg.org/\#url-class}{\texttt{ {\ttfamily URL}}} and \href{https://url.spec.whatwg.org/\#interface-urlsearchparams}{\texttt{ {\ttfamily URLSearch\+Params}}} exports, which follows the spec\textquotesingle{}s behavior in all ways (including e.\+g. {\ttfamily USVString} conversion). Most consumers of this library will want to use these.\hypertarget{md_node__modules_2workbox-build_2node__modules_2whatwg-url_2README_autotoc_md30339}{}\doxysubsection{\texorpdfstring{Low-\/level URL Standard API}{Low-level URL Standard API}}\label{md_node__modules_2workbox-build_2node__modules_2whatwg-url_2README_autotoc_md30339}
The following methods are exported for use by places like jsdom that need to implement things like \href{https://html.spec.whatwg.org/\#htmlhyperlinkelementutils}{\texttt{ {\ttfamily HTMLHyperlink\+Element\+Utils}}}. They mostly operate on or return an "{}internal URL"{} or \href{https://url.spec.whatwg.org/\#concept-url}{\texttt{ "{}URL record"{}}} type.


\begin{DoxyItemize}
\item \href{https://url.spec.whatwg.org/\#concept-url-parser}{\texttt{ URL parser}}\+: {\ttfamily parse\+URL(input, \{ base\+URL, encoding\+Override \})}
\item \href{https://url.spec.whatwg.org/\#concept-basic-url-parser}{\texttt{ Basic URL parser}}\+: {\ttfamily basic\+URLParse(input, \{ base\+URL, encoding\+Override, url, state\+Override \})}
\item \href{https://url.spec.whatwg.org/\#concept-url-serializer}{\texttt{ URL serializer}}\+: {\ttfamily serialize\+URL(url\+Record, exclude\+Fragment)}
\item \href{https://url.spec.whatwg.org/\#concept-host-serializer}{\texttt{ Host serializer}}\+: {\ttfamily serialize\+Host(host\+From\+URLRecord)}
\item \href{https://url.spec.whatwg.org/\#serialize-an-integer}{\texttt{ Serialize an integer}}\+: {\ttfamily serialize\+Integer(number)}
\item \href{https://url.spec.whatwg.org/\#concept-url-origin}{\texttt{ Origin}} \href{https://html.spec.whatwg.org/multipage/origin.html\#ascii-serialisation-of-an-origin}{\texttt{ serializer}}\+: {\ttfamily serialize\+URLOrigin(url\+Record)}
\item \href{https://url.spec.whatwg.org/\#set-the-username}{\texttt{ Set the username}}\+: {\ttfamily set\+The\+Username(url\+Record, username\+String)}
\item \href{https://url.spec.whatwg.org/\#set-the-password}{\texttt{ Set the password}}\+: {\ttfamily set\+The\+Password(url\+Record, password\+String)}
\item \href{https://url.spec.whatwg.org/\#cannot-have-a-username-password-port}{\texttt{ Cannot have a username/password/port}}\+: {\ttfamily cannot\+Have\+AUsername\+Password\+Port(url\+Record)}
\item \href{https://url.spec.whatwg.org/\#percent-decode}{\texttt{ Percent decode}}\+: {\ttfamily percent\+Decode(buffer)}
\end{DoxyItemize}

The {\ttfamily state\+Override} parameter is one of the following strings\+:


\begin{DoxyItemize}
\item \href{https://url.spec.whatwg.org/\#scheme-start-state}{\texttt{ {\ttfamily \textbackslash{}"{}scheme start\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#scheme-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}scheme\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#no-\/scheme-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}no scheme\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#special-\/relative-\/or-\/authority-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}special relative or authority\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#path-\/or-\/authority-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}path or authority\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#relative-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}relative\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#relative-\/slash-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}relative slash\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#special-\/authority-\/slashes-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}special authority slashes\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#special-\/authority-\/ignore-\/slashes-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}special authority ignore slashes\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#authority-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}authority\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#host-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}host\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#hostname-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}hostname\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#port-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}port\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#file-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}file\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#file-\/slash-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}file slash\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#file-\/host-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}file host\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#path-\/start-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}path start\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#path-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}path\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#cannot-\/be-\/a-\/base-\/url-\/path-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}cannot-\/be-\/a-\/base-\/\+URL path\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#query-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}query\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#fragment-\/state"{} $>$$<$tt$>$\textbackslash{}\textbackslash{}"{}fragment\textbackslash{}\textbackslash{}"{}$<$/tt$>$$<$/a$>$  \+The URL record type has the following API\+:  -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#concept-\/url-\/scheme"{} $>$$<$tt$>$scheme$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#concept-\/url-\/username"{} $>$$<$tt$>$username$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#concept-\/url-\/password"{} $>$$<$tt$>$password$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#concept-\/url-\/host"{} $>$$<$tt$>$host$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#concept-\/url-\/port"{} $>$$<$tt$>$port$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#concept-\/url-\/path"{} $>$$<$tt$>$path$<$/tt$>$$<$/a$>$ (as an array) -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#concept-\/url-\/query"{} $>$$<$tt$>$query$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#concept-\/url-\/fragment"{} $>$$<$tt$>$fragment$<$/tt$>$$<$/a$>$ -\/ $<$a href="{}https\+://url.\+spec.\+whatwg.\+org/\#url-\/cannot-\/be-\/a-\/base-\/url-\/flag"{} $>$$<$tt$>$cannot\+Be\+ABase\+URL$<$/tt$>$$<$/a$>$ (as a boolean)  \+These properties should be treated with care, as in general changing them will cause the URL record to be in an inconsistent state until the appropriate invocation of $<$tt$>$basic\+URLParse$<$/tt$>$ is used to fix it up. You can see examples of this in the URL Standard, where there are many step sequences like "{}4. Set context object’s url’s fragment to the empty string. 5. Basic URL parse \+\_\+input\+\_\+ with context object’s url as \+\_\+url\+\_\+ and fragment state as \+\_\+state override\+\_\+."{} In between those two steps, a URL record is in an unusable state.  \+The return value of "{}failure"{} in the spec is represented by $<$tt$>$null$<$/tt$>$. That is, functions like $<$tt$>$parse\+URL$<$/tt$>$ and $<$tt$>$basic\+URLParse$<$/tt$>$ can return $<$em$>$either$<$/em$>$ a URL record $<$em$>$or$<$/em$>$ $<$tt$>$null$<$/tt$>$.  @section autotoc\+\_\+md30340 Development instructions  \+First, install $<$a href="{}https\+://nodejs.\+org/"{} $>$\+Node.\+js$<$/a$>$. Then, fetch the dependencies of whatwg-\/url, by running from this directory\+: @iverbatim  npm install @endiverbatim \+To run tests\+: @iverbatim  npm test @endiverbatim \+To generate a coverage report\+: @iverbatim  npm run coverage @endiverbatim \+To build and run the live viewer\+: @iverbatim  npm run build npm run build-\/live-\/viewer @endiverbatim \+Serve the contents of the $<$tt$>$live-\/viewer$<$/tt$>$ directory using any web server.  @section autotoc\+\_\+md30341 Supporting whatwg-\/url  \+The jsdom project (including whatwg-\/url) is a community-\/driven project maintained by a team of $<$a href="{}https\+://github.\+com/orgs/jsdom/people"{} $>$volunteers$<$/a$>$. You could support us by\+:  -\/ $<$a href="{}https\+://tidelift.\+com/subscription/pkg/npm-\/whatwg-\/url?utm\+\_\+source=npm-\/whatwg-\/url\&utm\+\_\+medium=referral\&utm\+\_\+campaign=readme"{} \texorpdfstring{$>$}{>}Getting professional support for whatwg-\/url}}} as part of a Tidelift subscription. Tidelift helps making open source sustainable for us while giving teams assurances for maintenance, licensing, and security.
\item {\ttfamily Contributing directly to the project. }
\end{DoxyItemize}