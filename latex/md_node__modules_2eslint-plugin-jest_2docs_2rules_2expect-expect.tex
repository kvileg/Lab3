\chapter{Enforce assertion to be made in a test body (\texorpdfstring{$<$}{<}tt\texorpdfstring{$>$}{>}expect-\/expect\texorpdfstring{$<$}{<}/tt\texorpdfstring{$>$}{>})}
\hypertarget{md_node__modules_2eslint-plugin-jest_2docs_2rules_2expect-expect}{}\label{md_node__modules_2eslint-plugin-jest_2docs_2rules_2expect-expect}\index{Enforce assertion to be made in a test body ($<$tt$>$expect-\/expect$<$/tt$>$)@{Enforce assertion to be made in a test body ($<$tt$>$expect-\/expect$<$/tt$>$)}}
\label{md_node__modules_2eslint-plugin-jest_2docs_2rules_2expect-expect_autotoc_md11361}%
\Hypertarget{md_node__modules_2eslint-plugin-jest_2docs_2rules_2expect-expect_autotoc_md11361}%
 Ensure that there is at least one {\ttfamily expect} call made in a test.\hypertarget{md_node__modules_2eslint-plugin-jest_2docs_2rules_2expect-expect_autotoc_md11362}{}\doxysection{\texorpdfstring{Rule details}{Rule details}}\label{md_node__modules_2eslint-plugin-jest_2docs_2rules_2expect-expect_autotoc_md11362}
This rule triggers when there is no call made to {\ttfamily expect} in a test, to prevent users from forgetting to add assertions.

Examples of {\bfseries{incorrect}} code for this rule\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{it('should\ be\ a\ test',\ ()\ =>\ \{}
\DoxyCodeLine{\ \ console.log('no\ assertion');}
\DoxyCodeLine{\});}
\DoxyCodeLine{test('should\ assert\ something',\ ()\ =>\ \{\});}

\end{DoxyCode}


Examples of {\bfseries{correct}} code for this rule\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{it('should\ be\ a\ test',\ ()\ =>\ \{}
\DoxyCodeLine{\ \ expect(true).toBeDefined();}
\DoxyCodeLine{\});}
\DoxyCodeLine{it('should\ work\ with\ callbacks/async',\ ()\ =>\ \{}
\DoxyCodeLine{\ \ somePromise().then(res\ =>\ expect(res).toBe('passed'));}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{md_node__modules_2eslint-plugin-jest_2docs_2rules_2expect-expect_autotoc_md11363}{}\doxysection{\texorpdfstring{Options}{Options}}\label{md_node__modules_2eslint-plugin-jest_2docs_2rules_2expect-expect_autotoc_md11363}

\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ "{}jest/expect-\/expect"{}:\ [}
\DoxyCodeLine{\ \ \ \ "{}error"{},}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ "{}assertFunctionNames"{}:\ ["{}expect"{}],}
\DoxyCodeLine{\ \ \ \ \ \ "{}additionalTestBlockFunctions"{}:\ []}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ ]}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2eslint-plugin-jest_2docs_2rules_2expect-expect_autotoc_md11364}{}\doxysubsection{\texorpdfstring{$<$tt$>$assert\+Function\+Names$<$/tt$>$}{<tt>assertFunctionNames</tt>}}\label{md_node__modules_2eslint-plugin-jest_2docs_2rules_2expect-expect_autotoc_md11364}
This array option specifies the names of functions that should be considered to be asserting functions. Function names can use wildcards i.\+e {\ttfamily request.\texorpdfstring{$\ast$}{*}.expect}, {\ttfamily request.\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}.expect}, {\ttfamily request.\texorpdfstring{$\ast$}{*}.expect\texorpdfstring{$\ast$}{*}}

Examples of {\bfseries{incorrect}} code for the {\ttfamily \{ "{}assert\+Function\+Names"{}\+: \mbox{[}"{}expect"{}\mbox{]} \}} option\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{/*\ eslint\ jest/expect-\/expect:\ ["{}error"{},\ \{\ "{}assertFunctionNames"{}:\ ["{}expect"{}]\ \}]\ */}
\DoxyCodeLine{}
\DoxyCodeLine{import\ \{\ expectSaga\ \}\ from\ 'redux-\/saga-\/test-\/plan';}
\DoxyCodeLine{import\ \{\ addSaga\ \}\ from\ '../src/sagas';}
\DoxyCodeLine{}
\DoxyCodeLine{test('returns\ sum',\ ()\ =>\ \{}
\DoxyCodeLine{\ \ expectSaga(addSaga,\ 1,\ 1).returns(2).run();}
\DoxyCodeLine{\});}

\end{DoxyCode}


Examples of {\bfseries{correct}} code for the {\ttfamily \{ "{}assert\+Function\+Names"{}\+: \mbox{[}"{}expect"{}, "{}expect\+Saga"{}\mbox{]} \}} option\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{/*\ eslint\ jest/expect-\/expect:\ ["{}error"{},\ \{\ "{}assertFunctionNames"{}:\ ["{}expect"{},\ "{}expectSaga"{}]\ \}]\ */}
\DoxyCodeLine{}
\DoxyCodeLine{import\ \{\ expectSaga\ \}\ from\ 'redux-\/saga-\/test-\/plan';}
\DoxyCodeLine{import\ \{\ addSaga\ \}\ from\ '../src/sagas';}
\DoxyCodeLine{}
\DoxyCodeLine{test('returns\ sum',\ ()\ =>\ \{}
\DoxyCodeLine{\ \ expectSaga(addSaga,\ 1,\ 1).returns(2).run();}
\DoxyCodeLine{\});}

\end{DoxyCode}


Since the string is compiled into a regular expression, you\textquotesingle{}ll need to escape special characters such as {\ttfamily \$} with a double backslash\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{/*\ eslint\ jest/expect-\/expect:\ ["{}error"{},\ \{\ "{}assertFunctionNames"{}:\ ["{}expect\(\backslash\)\(\backslash\)\$"{}]\ \}]\ */}
\DoxyCodeLine{}
\DoxyCodeLine{it('is\ money-\/like',\ ()\ =>\ \{}
\DoxyCodeLine{\ \ expect\$(1.0);}
\DoxyCodeLine{\});}

\end{DoxyCode}


Examples of {\bfseries{correct}} code for working with the HTTP assertions library \href{https://www.npmjs.com/package/supertest}{\texttt{ Super\+Test}} with the {\ttfamily \{ "{}assert\+Function\+Names"{}\+: \mbox{[}"{}expect"{}, "{}request.\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}.\+expect"{}\mbox{]} \}} option\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{/*\ eslint\ jest/expect-\/expect:\ ["{}error"{},\ \{\ "{}assertFunctionNames"{}:\ ["{}expect"{},\ "{}request.**.expect"{}]\ \}]\ */}
\DoxyCodeLine{const\ request\ =\ require('supertest');}
\DoxyCodeLine{const\ express\ =\ require('express');}
\DoxyCodeLine{}
\DoxyCodeLine{const\ app\ =\ express();}
\DoxyCodeLine{}
\DoxyCodeLine{describe('GET\ /user',\ function\ ()\ \{}
\DoxyCodeLine{\ \ it('responds\ with\ json',\ function\ (done)\ \{}
\DoxyCodeLine{\ \ \ \ request(app).get('/user').expect('Content-\/Type',\ /json/).expect(200,\ done);}
\DoxyCodeLine{\ \ \});}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{md_node__modules_2eslint-plugin-jest_2docs_2rules_2expect-expect_autotoc_md11365}{}\doxysubsection{\texorpdfstring{$<$tt$>$additional\+Test\+Block\+Functions$<$/tt$>$}{<tt>additionalTestBlockFunctions</tt>}}\label{md_node__modules_2eslint-plugin-jest_2docs_2rules_2expect-expect_autotoc_md11365}
This array can be used to specify the names of functions that should also be treated as test blocks\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ "{}rules"{}:\ \{}
\DoxyCodeLine{\ \ \ \ "{}jest/expect-\/expect"{}:\ [}
\DoxyCodeLine{\ \ \ \ \ \ "{}error"{},}
\DoxyCodeLine{\ \ \ \ \ \ \{\ "{}additionalTestBlockFunctions"{}:\ ["{}theoretically"{}]\ \}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


The following is {\itshape correct} when using the above configuration\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ theoretically\ from\ 'jest-\/theories';}
\DoxyCodeLine{}
\DoxyCodeLine{describe('NumberToLongString',\ ()\ =>\ \{}
\DoxyCodeLine{\ \ const\ theories\ =\ [}
\DoxyCodeLine{\ \ \ \ \{\ input:\ 100,\ expected:\ 'One\ hundred'\ \},}
\DoxyCodeLine{\ \ \ \ \{\ input:\ 1000,\ expected:\ 'One\ thousand'\ \},}
\DoxyCodeLine{\ \ \ \ \{\ input:\ 10000,\ expected:\ 'Ten\ thousand'\ \},}
\DoxyCodeLine{\ \ \ \ \{\ input:\ 100000,\ expected:\ 'One\ hundred\ thousand'\ \},}
\DoxyCodeLine{\ \ ];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ theoretically(}
\DoxyCodeLine{\ \ \ \ 'the\ number\ \{input\}\ is\ correctly\ translated\ to\ string',}
\DoxyCodeLine{\ \ \ \ theories,}
\DoxyCodeLine{\ \ \ \ theory\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ const\ output\ =\ NumberToLongString(theory.input);}
\DoxyCodeLine{\ \ \ \ \ \ expect(output).toBe(theory.expected);}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{\ \ );}
\DoxyCodeLine{\});}

\end{DoxyCode}
 