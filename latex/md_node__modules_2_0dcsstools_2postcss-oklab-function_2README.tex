\chapter{Post\+CSS OKLab Function \texorpdfstring{$<$}{<}a href="{}https\+://github.\+com/postcss/postcss"{} \texorpdfstring{$>$}{>}\texorpdfstring{$<$}{<}img src=\textbackslash{}"{}https\+://postcss.\+github.\+io/postcss/logo.\+svg\textbackslash{}"{} alt=\textbackslash{}"{}\+Post\+CSS Logo\textbackslash{}"{} width=\textbackslash{}"{}90\textbackslash{}"{} height=\textbackslash{}"{}90\textbackslash{}"{} align=\textbackslash{}"{}right\textbackslash{}"{}\texorpdfstring{$>$}{>}\texorpdfstring{$<$}{<}/a\texorpdfstring{$>$}{>}}
\hypertarget{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README}{}\label{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README}\index{PostCSS OKLab Function $<$a href="{}https://github.com/postcss/postcss"{} $>$$<$img src=\textbackslash{}"{}https://postcss.github.io/postcss/logo.svg\textbackslash{}"{} alt=\textbackslash{}"{}PostCSS Logo\textbackslash{}"{} width=\textbackslash{}"{}90\textbackslash{}"{} height=\textbackslash{}"{}90\textbackslash{}"{} align=\textbackslash{}"{}right\textbackslash{}"{}$>$$<$/a$>$@{PostCSS OKLab Function $<$a href=""https://github.com/postcss/postcss"" $>$$<$img src=\textbackslash{}""https://postcss.github.io/postcss/logo.svg\textbackslash{}"" alt=\textbackslash{}""PostCSS Logo\textbackslash{}"" width=\textbackslash{}""90\textbackslash{}"" height=\textbackslash{}""90\textbackslash{}"" align=\textbackslash{}""right\textbackslash{}""$>$$<$/a$>$}}
\label{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md723}%
\Hypertarget{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md723}%
 \href{https://www.npmjs.com/package/@csstools/postcss-oklab-function}{\texttt{ \texorpdfstring{$<$}{<}img alt="{}npm version"{} src="{}https\+://img.\+shields.\+io/npm/v/@csstools/postcss-\/oklab-\/function.\+svg"{} height="{}20"{}\texorpdfstring{$>$}{>}}} \href{https://cssdb.org/\#oklab-function}{\texttt{ \texorpdfstring{$<$}{<}img alt="{}CSS Standard Status"{} src="{}https\+://cssdb.\+org/images/badges/oklab-\/function.\+svg"{} height="{}20"{}\texorpdfstring{$>$}{>}}} \href{https://github.com/csstools/postcss-plugins/actions/workflows/test.yml?query=workflow/test}{\texttt{ \texorpdfstring{$<$}{<}img alt="{}Build Status"{} src="{}https\+://github.\+com/csstools/postcss-\/plugins/workflows/test/badge.\+svg"{} height="{}20"{}\texorpdfstring{$>$}{>}}} \href{https://discord.gg/bUadyRwkJS}{\texttt{ \texorpdfstring{$<$}{<}img alt="{}Discord"{} src="{}https\+://shields.\+io/badge/\+Discord-\/5865\+F2?logo=discord\&logo\+Color=white"{}\texorpdfstring{$>$}{>}}}

\href{https://github.com/csstools/postcss-plugins/tree/main/plugins/postcss-oklab-function}{\texttt{ Post\+CSS OKLab Function}} lets you use {\ttfamily oklab} and {\ttfamily oklch} color functions in CSS, following the \href{https://www.w3.org/TR/css-color-4/\#specifying-oklab-oklch}{\texttt{ CSS Color}} specification.


\begin{DoxyCode}{0}
\DoxyCodeLine{.test-\/oklab\ \{}
\DoxyCodeLine{\ \ \ \ color:\ oklab(40\%\ 0.001236\ 0.0039);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{.test-\/oklch\ \{}
\DoxyCodeLine{\ \ \ \ color:\ oklch(40\%\ 0.268735435\ 34.568626);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{/*\ becomes\ */}
\DoxyCodeLine{}
\DoxyCodeLine{.test-\/oklab\ \{}
\DoxyCodeLine{\ \ \ \ color:\ rgb(73,\ 71,\ 69);}
\DoxyCodeLine{\ \ \ \ color:\ color(display-\/p3\ 0.28515\ 0.27983\ 0.27246);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{.test-\/oklch\ \{}
\DoxyCodeLine{\ \ \ \ color:\ rgb(131,\ 28,\ 0);}
\DoxyCodeLine{\ \ \ \ color:\ color(display-\/p3\ 0.49163\ 0.11178\ 0.00000);}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md724}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md724}
Add \href{https://github.com/csstools/postcss-plugins/tree/main/plugins/postcss-oklab-function}{\texttt{ Post\+CSS OKLab Function}} to your project\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ postcss\ @csstools/postcss-\/oklab-\/function\ -\/-\/save-\/dev}

\end{DoxyCode}


Use it as a \href{https://github.com/postcss/postcss}{\texttt{ Post\+CSS}} plugin\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ postcss\ =\ require('postcss');}
\DoxyCodeLine{const\ postcssOKLabFunction\ =\ require('@csstools/postcss-\/oklab-\/function');}
\DoxyCodeLine{}
\DoxyCodeLine{postcss([}
\DoxyCodeLine{\ \ postcssOKLabFunction(/*\ pluginOptions\ */)}
\DoxyCodeLine{]).process(YOUR\_CSS\ /*,\ processOptions\ */);}

\end{DoxyCode}


\href{https://github.com/csstools/postcss-plugins/tree/main/plugins/postcss-oklab-function}{\texttt{ Post\+CSS OKLab Function}} runs in all Node environments, with special instructions for\+:

\texorpdfstring{$\vert$}{|} \href{INSTALL.md\#node}{\texttt{ Node}} \texorpdfstring{$\vert$}{|} \href{INSTALL.md\#postcss-cli}{\texttt{ Post\+CSS CLI}} \texorpdfstring{$\vert$}{|} \href{INSTALL.md\#webpack}{\texttt{ Webpack}} \texorpdfstring{$\vert$}{|} \href{INSTALL.md\#create-react-app}{\texttt{ Create React App}} \texorpdfstring{$\vert$}{|} \href{INSTALL.md\#gulp}{\texttt{ Gulp}} \texorpdfstring{$\vert$}{|} \href{INSTALL.md\#grunt}{\texttt{ Grunt}} \texorpdfstring{$\vert$}{|} \texorpdfstring{$\vert$}{|} --- \texorpdfstring{$\vert$}{|} --- \texorpdfstring{$\vert$}{|} --- \texorpdfstring{$\vert$}{|} --- \texorpdfstring{$\vert$}{|} --- \texorpdfstring{$\vert$}{|} --- \texorpdfstring{$\vert$}{|}\hypertarget{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md725}{}\doxysection{\texorpdfstring{Options}{Options}}\label{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md725}
\hypertarget{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md726}{}\doxysubsection{\texorpdfstring{preserve}{preserve}}\label{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md726}
The {\ttfamily preserve} option determines whether the original notation is preserved. By default, it is not preserved.


\begin{DoxyCode}{0}
\DoxyCodeLine{postcssOKLabFunction(\{\ preserve:\ true\ \})}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{.test-\/oklab\ \{}
\DoxyCodeLine{\ \ \ \ color:\ oklab(40\%\ 0.001236\ 0.0039);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{.test-\/oklch\ \{}
\DoxyCodeLine{\ \ \ \ color:\ oklch(40\%\ 0.268735435\ 34.568626);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{/*\ becomes\ */}
\DoxyCodeLine{}
\DoxyCodeLine{.test-\/oklab\ \{}
\DoxyCodeLine{\ \ \ \ color:\ rgb(73,\ 71,\ 69);}
\DoxyCodeLine{\ \ \ \ color:\ color(display-\/p3\ 0.28515\ 0.27983\ 0.27246);}
\DoxyCodeLine{\ \ \ \ color:\ oklab(40\%\ 0.001236\ 0.0039);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{.test-\/oklch\ \{}
\DoxyCodeLine{\ \ \ \ color:\ rgb(131,\ 28,\ 0);}
\DoxyCodeLine{\ \ \ \ color:\ color(display-\/p3\ 0.49163\ 0.11178\ 0.00000);}
\DoxyCodeLine{\ \ \ \ color:\ oklch(40\%\ 0.268735435\ 34.568626);}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md727}{}\doxysubsection{\texorpdfstring{enable\+Progressive\+Custom\+Properties}{enableProgressiveCustomProperties}}\label{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md727}
The {\ttfamily enable\+Progressive\+Custom\+Properties} option determines whether the original notation is wrapped with {\ttfamily @supports} when used in Custom Properties. By default, it is enabled.

⚠️ We only recommend disabling this when you set {\ttfamily preserve} to {\ttfamily false} or if you bring your own fix for Custom Properties. See what the plugin does in its \href{https://github.com/csstools/postcss-plugins/tree/main/plugins/postcss-progressive-custom-properties\#readme}{\texttt{ README}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{postcssOKLabFunction(\{\ enableProgressiveCustomProperties:\ false\ \})}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{:root\ \{}
\DoxyCodeLine{\ \ \ \ -\/-\/firebrick:\ oklab(40\%\ 0.234\ 0.39);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{/*\ becomes\ */}
\DoxyCodeLine{}
\DoxyCodeLine{:root\ \{}
\DoxyCodeLine{\ \ \ \ -\/-\/firebrick:\ rgb(133,\ 0,\ 67);\ /*\ will\ never\ be\ used,\ not\ even\ in\ older\ browser\ */}
\DoxyCodeLine{\ \ \ \ -\/-\/firebrick:\ color(display-\/p3\ 0.49890\ 0.00000\ 0.25954);\ /*\ will\ never\ be\ used,\ not\ even\ in\ older\ browser\ */}
\DoxyCodeLine{\ \ \ \ -\/-\/firebrick:\ oklab(40\%\ 0.234\ 0.39);}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md728}{}\doxysubsection{\texorpdfstring{sub\+Features}{subFeatures}}\label{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md728}
\hypertarget{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md729}{}\doxysubsubsection{\texorpdfstring{display\+P3}{displayP3}}\label{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md729}
The {\ttfamily sub\+Features.\+display\+P3} option determines if {\ttfamily color(display-\/p3 ...)} is used as a fallback.~\newline
 By default, it is enabled.

{\ttfamily display-\/p3} can display wider gamut colors than {\ttfamily rgb} on some devices.


\begin{DoxyCode}{0}
\DoxyCodeLine{postcssOKLabFunction(\{}
\DoxyCodeLine{\ \ \ \ subFeatures:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ displayP3:\ false}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\})}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{.test-\/oklab\ \{}
\DoxyCodeLine{\ \ \ \ color:\ oklab(40\%\ 0.001236\ 0.0039);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{.test-\/oklch\ \{}
\DoxyCodeLine{\ \ \ \ color:\ oklch(40\%\ 0.268735435\ 34.568626);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{/*\ becomes\ */}
\DoxyCodeLine{}
\DoxyCodeLine{.test-\/oklab\ \{}
\DoxyCodeLine{\ \ \ \ color:\ rgb(73,\ 71,\ 69);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{.test-\/oklch\ \{}
\DoxyCodeLine{\ \ \ \ color:\ rgb(131,\ 28,\ 0);}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md730}{}\doxysection{\texorpdfstring{Out of gamut colors}{Out of gamut colors}}\label{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md730}
Depending on the browser implementation out of gamut colors may be clipped, resulting in a different color.~\newline
 Fallback values generated by \href{https://github.com/csstools/postcss-plugins/tree/main/plugins/postcss-oklab-function}{\texttt{ Post\+CSS OKLab Function}} are always mapped to a close alternative in s\+RGB.

When setting {\ttfamily preserve} to {\ttfamily true} the original values will be used by some browsers and these may be clipped.~\newline
 Certain browsers will have an incorrect color if this occurs.

If the plugin detects out of gamut colors it will emit a warning \+:

\begin{quote}
"{}oklab(40\% 0.\+234 0.\+39)"{} is out of gamut for "{}display-\/p3"{}. When "{}preserve\+: true"{} is set this will lead to unexpected results in some browsers. \end{quote}
To resolve this warning you can use a color that is in gamut for {\ttfamily display-\/p3}.\hypertarget{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md731}{}\doxysection{\texorpdfstring{Copyright \+: color conversions}{Copyright : color conversions}}\label{md_node__modules_2_0dcsstools_2postcss-oklab-function_2README_autotoc_md731}
This software or document includes material copied from or derived from \href{https://github.com/w3c/csswg-drafts/tree/main/css-color-4}{\texttt{ https\+://github.\+com/w3c/csswg-\/drafts/tree/main/css-\/color-\/4}}. Copyright © 2022 W3\+C® (MIT, ERCIM, Keio, Beihang). 