\chapter{v8-\/to-\/istanbul}
\hypertarget{md_node__modules_2v8-to-istanbul_2README}{}\label{md_node__modules_2v8-to-istanbul_2README}\index{v8-\/to-\/istanbul@{v8-\/to-\/istanbul}}
\label{md_node__modules_2v8-to-istanbul_2README_autotoc_md29273}%
\Hypertarget{md_node__modules_2v8-to-istanbul_2README_autotoc_md29273}%
 \href{https://travis-ci.org/istanbuljs/v8-to-istanbul}{\texttt{ }} \href{https://conventionalcommits.org}{\texttt{ }} 

converts from v8 coverage format to \href{https://github.com/gotwarlost/istanbul/blob/master/coverage.json.md}{\texttt{ istanbul\textquotesingle{}s coverage format}}.\hypertarget{md_node__modules_2v8-to-istanbul_2README_autotoc_md29274}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{md_node__modules_2v8-to-istanbul_2README_autotoc_md29274}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ v8toIstanbul\ =\ require('v8-\/to-\/istanbul')}
\DoxyCodeLine{//\ the\ path\ to\ the\ original\ source-\/file\ is\ required,\ as\ its\ contents\ are}
\DoxyCodeLine{//\ used\ during\ the\ conversion\ algorithm.}
\DoxyCodeLine{const\ converter\ =\ v8toIstanbul('./path-\/to-\/instrumented-\/file.js')}
\DoxyCodeLine{await\ converter.load()\ //\ this\ is\ required\ due\ to\ the\ async\ source-\/map\ dependency.}
\DoxyCodeLine{//\ provide\ an\ array\ of\ coverage\ information\ in\ v8\ format.}
\DoxyCodeLine{converter.applyCoverage([}
\DoxyCodeLine{\ \ \{}
\DoxyCodeLine{\ \ \ \ "{}functionName"{}:\ "{}"{},}
\DoxyCodeLine{\ \ \ \ "{}ranges"{}:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}startOffset"{}:\ 0,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}endOffset"{}:\ 520,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ "{}count"{}:\ 1}
\DoxyCodeLine{\ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ ],}
\DoxyCodeLine{\ \ \ \ "{}isBlockCoverage"{}:\ true}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ //\ ...}
\DoxyCodeLine{])}
\DoxyCodeLine{//\ output\ coverage\ information\ in\ a\ form\ that\ can}
\DoxyCodeLine{//\ be\ consumed\ by\ Istanbul.}
\DoxyCodeLine{console.info(JSON.stringify(converter.toIstanbul()))}
\DoxyCodeLine{}
\DoxyCodeLine{//\ cleanup\ resources\ allocated\ in\ "{}load"{}\ (i.e.\ by\ the\ source-\/map\ dependency),}
\DoxyCodeLine{//\ the\ converter\ may\ not\ be\ used\ anymore\ afterwards}
\DoxyCodeLine{converter.destroy()\ }

\end{DoxyCode}
\hypertarget{md_node__modules_2v8-to-istanbul_2README_autotoc_md29275}{}\doxysection{\texorpdfstring{Ignoring Uncovered Lines}{Ignoring Uncovered Lines}}\label{md_node__modules_2v8-to-istanbul_2README_autotoc_md29275}
Sometimes you might find yourself wanting to ignore uncovered lines in your application (for example, perhaps you run your tests in Linux, but there\textquotesingle{}s code that only executes on Windows).

To ignore lines, use the special comment {\ttfamily /\texorpdfstring{$\ast$}{*} c8 ignore next \texorpdfstring{$\ast$}{*}/}.\hypertarget{md_node__modules_2v8-to-istanbul_2README_autotoc_md29276}{}\doxysubsection{\texorpdfstring{ignoring the next line}{ignoring the next line}}\label{md_node__modules_2v8-to-istanbul_2README_autotoc_md29276}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ myVariable\ =\ 99}
\DoxyCodeLine{/*\ c8\ ignore\ next\ */}
\DoxyCodeLine{if\ (process.platform\ ===\ 'win32')\ console.info('hello\ world')}

\end{DoxyCode}
\hypertarget{md_node__modules_2v8-to-istanbul_2README_autotoc_md29277}{}\doxysubsection{\texorpdfstring{ignoring the next N lines}{ignoring the next N lines}}\label{md_node__modules_2v8-to-istanbul_2README_autotoc_md29277}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ myVariable\ =\ 99}
\DoxyCodeLine{/*\ c8\ ignore\ next\ 3\ */}
\DoxyCodeLine{if\ (process.platform\ ===\ 'win32')\ \{}
\DoxyCodeLine{\ \ console.info('hello\ world')}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2v8-to-istanbul_2README_autotoc_md29278}{}\doxysubsection{\texorpdfstring{ignoring all lines until told}{ignoring all lines until told}}\label{md_node__modules_2v8-to-istanbul_2README_autotoc_md29278}

\begin{DoxyCode}{0}
\DoxyCodeLine{/*\ c8\ ignore\ start\ */}
\DoxyCodeLine{function\ dontMindMe()\ \{}
\DoxyCodeLine{\ \ //\ ...}
\DoxyCodeLine{\}}
\DoxyCodeLine{/*\ c8\ ignore\ stop\ */}

\end{DoxyCode}
\hypertarget{md_node__modules_2v8-to-istanbul_2README_autotoc_md29279}{}\doxysubsection{\texorpdfstring{ignoring the same line as the comment}{ignoring the same line as the comment}}\label{md_node__modules_2v8-to-istanbul_2README_autotoc_md29279}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ myVariable\ =\ 99}
\DoxyCodeLine{const\ os\ =\ process.platform\ ===\ 'darwin'\ ?\ 'OSXy'\ /*\ c8\ ignore\ next\ */\ :\ 'Windowsy'\ }

\end{DoxyCode}
\hypertarget{md_node__modules_2v8-to-istanbul_2README_autotoc_md29280}{}\doxysection{\texorpdfstring{Testing}{Testing}}\label{md_node__modules_2v8-to-istanbul_2README_autotoc_md29280}
To execute tests, simply run\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ test}

\end{DoxyCode}
 