\chapter{Post\+CSS Media Minmax}
\hypertarget{md_node__modules_2postcss-media-minmax_2README-zh}{}\label{md_node__modules_2postcss-media-minmax_2README-zh}\index{PostCSS Media Minmax@{PostCSS Media Minmax}}
\label{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21325}%
\Hypertarget{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21325}%
 \href{https://travis-ci.org/postcss/postcss-media-minmax}{\texttt{ }} \href{https://www.npmjs.com/package/postcss-media-minmax}{\texttt{ }} \href{https://www.npmjs.com/package/postcss-media-minmax}{\texttt{ }} \href{http://opensource.org/licenses/MIT}{\texttt{ }}

\begin{quote}
写简单优雅的 Media Queries！ \end{quote}
Media Queries 中的 {\ttfamily min-\/width} 和 {\ttfamily max-\/width} 等属性非常容易混淆，每次看到他们，我都想哭。现在\href{https://drafts.csswg.org/mediaqueries/\#mq-range-context}{\texttt{ 新的规范}}中，可以使用更加直观的 {\ttfamily \texorpdfstring{$>$}{>}=}或{\ttfamily \texorpdfstring{$<$}{<}=} 替代 media queries 中的 min-\//max-\/ 前缀。

{\bfseries{V2.\+1.\+0 开始支持 {\ttfamily \texorpdfstring{$>$}{>}} 或 {\ttfamily \texorpdfstring{$<$}{<}} 符号。}}

这是一个实现 \href{http://dev.w3.org/csswg/mediaqueries/}{\texttt{ CSS Media Queries Level 4}} Polyfill 的插件，让你现在就可以使用这些特性，妈妈再也不用担心我记不住了，鹅妹子嘤！

\doxysectlink{md_README}{English}{0}

\DoxyHorRuler{0}


\hypertarget{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21327}{}\doxysection{\texorpdfstring{安装}{安装}}\label{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21327}
\begin{DoxyVerb}$ npm install postcss-media-minmax
\end{DoxyVerb}
 \hypertarget{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21328}{}\doxysection{\texorpdfstring{快速开始}{快速开始}}\label{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21328}
示例 1：


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ fs\ =\ require('fs')}
\DoxyCodeLine{var\ postcss\ =\ require('postcss')}
\DoxyCodeLine{var\ minmax\ =\ require('postcss-\/media-\/minmax')}
\DoxyCodeLine{}
\DoxyCodeLine{var\ css\ =\ fs.readFileSync('input.css',\ 'utf8')}
\DoxyCodeLine{}
\DoxyCodeLine{var\ output\ =\ postcss()}
\DoxyCodeLine{\ \ .use(minmax())}
\DoxyCodeLine{\ \ .process(css)}
\DoxyCodeLine{\ \ .css}
\DoxyCodeLine{\ \ }
\DoxyCodeLine{console.log('\(\backslash\)n====>Output\ CSS:\(\backslash\)n',\ output)\ \ }

\end{DoxyCode}


或者只需：


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ output\ =\ postcss(minmax())}
\DoxyCodeLine{\ \ .process(css)}
\DoxyCodeLine{\ \ .css}

\end{DoxyCode}


input.\+css：


\begin{DoxyCode}{0}
\DoxyCodeLine{@media\ screen\ and\ (width\ >=\ 500px)\ and\ (width\ <=\ 1200px)\ \{}
\DoxyCodeLine{\ \ .bar\ \{}
\DoxyCodeLine{\ \ \ \ display:\ block;}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


你将得到：


\begin{DoxyCode}{0}
\DoxyCodeLine{@media\ screen\ and\ (min-\/width:\ 500px)\ and\ (max-\/width:\ 1200px)\ \{}
\DoxyCodeLine{\ \ .bar\ \{}
\DoxyCodeLine{\ \ \ \ display:\ block;}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21329}{}\doxysection{\texorpdfstring{CSS 语法}{CSS 语法}}\label{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21329}
\hypertarget{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21330}{}\doxysubsection{\texorpdfstring{$<$a href="{}http\+://dev.\+w3.\+org/csswg/mediaqueries/\#mq-\/syntax"{} $>$语法$<$/a$>$}{<a href="http://dev.w3.org/csswg/mediaqueries/\#mq-syntax" >语法</a>}}\label{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21330}

\begin{DoxyCode}{0}
\DoxyCodeLine{<mf-\/range>\ =\ <mf-\/name>\ [\ '<'\ |\ '>'\ ]?\ '='?\ <mf-\/value>}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ |\ <mf-\/value>\ [\ '<'\ |\ '>'\ ]?\ '='?\ <mf-\/name>}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ |\ <mf-\/value>\ '<'\ '='?\ <mf-\/name>\ '<'\ '='?\ <mf-\/value>}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ |\ <mf-\/value>\ '>'\ '='?\ <mf-\/name>\ '>'\ '='?\ <mf-\/value>}

\end{DoxyCode}




Post\+CSS Media Minmax 目前并没有实现 {\ttfamily 200px \texorpdfstring{$>$}{>}= width} 或者 {\ttfamily 200px \texorpdfstring{$<$}{<}= width} 这样的语法，因为这样的语法可读性并不不是太好。\hypertarget{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21331}{}\doxysection{\texorpdfstring{$<$a href="{}http\+://dev.\+w3.\+org/csswg/mediaqueries/\#values"{} $>$取值(\+Values)$<$/a$>$}{<a href="http://dev.w3.org/csswg/mediaqueries/\#values" >取值(Values)</a>}}\label{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21331}
{\bfseries{The special values\+:}}


\begin{DoxyItemize}
\item \href{http://dev.w3.org/csswg/mediaqueries/\#typedef-ratio}{\texttt{ }}

$<$ratio$>$ 是一个正（非零非负）的 $<$integer$>$（整型）取值，其后跟随0个或多个空白，接着跟随一个斜线（“/”），再跟随0个或多个空白，最后跟随一个正$<$integer$>$。


\begin{DoxyCode}{0}
\DoxyCodeLine{@media\ screen\ and\ (device-\/aspect-\/ratio:\ 16\ /\ \ \ 9)\ \{}
\DoxyCodeLine{\ \ /*\ rules\ */}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{/*\ equivalent\ to\ */}
\DoxyCodeLine{@media\ screen\ and\ (device-\/aspect-\/ratio:\ 16/9)\ \{}
\DoxyCodeLine{\ \ /*\ rules\ */}
\DoxyCodeLine{\}}

\end{DoxyCode}

\item \href{http://dev.w3.org/csswg/mediaqueries/\#typedef-mq-boolean}{\texttt{ \texorpdfstring{$<$}{<}mq-\/boolean\texorpdfstring{$>$}{>}}}

\texorpdfstring{$<$}{<}mq-\/boolean\texorpdfstring{$>$}{>} 值是一个 0 或 1 的 $<$integer$>$（整型）取值。其他任何整数无效。注意， 在 CSS 中 -\/0 总是等价于 0 的，所以也作为一种有效的 \texorpdfstring{$<$}{<}mq-\/boolean\texorpdfstring{$>$}{>} 取值。 ~\newline



\begin{DoxyCode}{0}
\DoxyCodeLine{@media\ screen\ and\ (grid:\ -\/0)\ \{}
\DoxyCodeLine{\ \ /*\ rules\ */}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{/*\ equivalent\ to\ */}
\DoxyCodeLine{@media\ screen\ and\ (grid:\ 0)\ \{}
\DoxyCodeLine{\ \ /*\ rules\ */}
\DoxyCodeLine{\}}

\end{DoxyCode}

\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21332}{}\doxysection{\texorpdfstring{如何使用}{如何使用}}\label{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21332}
\hypertarget{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21333}{}\doxysubsection{\texorpdfstring{简写}{简写}}\label{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21333}
示例 1中同一个 Media features name 同时存在 {\ttfamily \texorpdfstring{$>$}{>}=} 和 {\ttfamily \texorpdfstring{$<$}{<}=} 时，可以简写为：


\begin{DoxyCode}{0}
\DoxyCodeLine{@media\ screen\ and\ (500px\ <=\ width\ <=\ 1200px)\ \{}
\DoxyCodeLine{\ \ .bar\ \{}
\DoxyCodeLine{\ \ \ \ display:\ block;}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}
\DoxyCodeLine{/*\ 或者\ */}
\DoxyCodeLine{@media\ screen\ and\ (1200px\ >=\ width\ >=\ 500px)\ \{}
\DoxyCodeLine{\ \ .bar\ \{}
\DoxyCodeLine{\ \ \ \ display:\ block;}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


都会得到一样的输出结果：


\begin{DoxyCode}{0}
\DoxyCodeLine{@media\ screen\ and\ (min-\/width:\ 500px)\ and\ (max-\/width:\ 1200px)\ \{}
\DoxyCodeLine{\ \ .bar\ \{}
\DoxyCodeLine{\ \ \ \ display:\ block;}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
 \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}注意\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}：当 Media features name 在中间的时候，一定要保证两个 {\ttfamily \texorpdfstring{$<$}{<}=} 或 {\ttfamily \texorpdfstring{$>$}{>}=} 的方向一致，否则不会转换。

例如在下面的示例中，width 大于等于 500px 同时又大于等于 1200px，这在语法和逻辑上都是错误的。


\begin{DoxyCode}{0}
\DoxyCodeLine{@media\ screen\ and\ (1200px\ <=\ width\ >=\ 500px)\ \{}
\DoxyCodeLine{\ \ .bar\ \{}
\DoxyCodeLine{\ \ \ \ display:\ block;}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21334}{}\doxysubsection{\texorpdfstring{支持的 Media features name}{支持的 Media features name}}\label{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21334}
规范中目前以下属性支持 min-\//max 前缀，\+Post\+CSS Media Minmax 全部支持自动转换。


\begin{DoxyItemize}
\item {\ttfamily width}
\item {\ttfamily height}
\item {\ttfamily device-\/width}
\item {\ttfamily device-\/height}
\item {\ttfamily aspect-\/ratio}
\item {\ttfamily device-\/aspect-\/ratio}
\item {\ttfamily color}
\item {\ttfamily color-\/index}
\item {\ttfamily monochrome}
\item {\ttfamily resolution}
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21335}{}\doxysubsection{\texorpdfstring{支持在 $<$tt$>$@custom-\/media$<$/tt$>$ 中使用 \& Node Watch}{支持在 <tt>@custom-media</tt> 中使用 \& Node Watch}}\label{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21335}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ fs\ =\ require('fs')}
\DoxyCodeLine{var\ chokidar\ =\ require('chokidar')}
\DoxyCodeLine{var\ postcss\ =\ require('postcss')}
\DoxyCodeLine{var\ minmax\ =\ require('postcss-\/media-\/minmax')}
\DoxyCodeLine{var\ customMedia\ =\ require('postcss-\/custom-\/media')}
\DoxyCodeLine{}
\DoxyCodeLine{var\ src\ =\ 'input.css'}
\DoxyCodeLine{}
\DoxyCodeLine{console.info('Watching…\(\backslash\)nModify\ the\ input.css\ and\ save.')}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{chokidar.watch(src,\ \{}
\DoxyCodeLine{\ \ ignored:\ /[\(\backslash\)/\(\backslash\)\(\backslash\)]\(\backslash\)./,}
\DoxyCodeLine{\ \ persistent:\ true}
\DoxyCodeLine{\}).on('all',}
\DoxyCodeLine{\ \ function(event,\ path,\ stats)\ \{}
\DoxyCodeLine{\ \ \ \ var\ css\ =\ fs.readFileSync(src,\ 'utf8')}
\DoxyCodeLine{\ \ \ \ var\ output\ =\ postcss()}
\DoxyCodeLine{\ \ \ \ \ \ .use(customMedia())}
\DoxyCodeLine{\ \ \ \ \ \ .use(minmax())}
\DoxyCodeLine{\ \ \ \ \ \ .process(css)}
\DoxyCodeLine{\ \ \ \ \ \ .css;}
\DoxyCodeLine{\ \ \ \ fs.writeFileSync('output.css',\ output)}
\DoxyCodeLine{\ \ \})}

\end{DoxyCode}


input.\+css\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{@custom-\/media\ -\/-\/foo\ (width\ >=\ 20em)\ and\ (width\ <=\ 50em);}
\DoxyCodeLine{@custom-\/media\ -\/-\/bar\ (height\ >=\ 300px)\ and\ (height\ <=\ 600px);}
\DoxyCodeLine{}
\DoxyCodeLine{@media\ (-\/-\/foo)\ and\ (-\/-\/bar)\ \{}
\DoxyCodeLine{\ \ }
\DoxyCodeLine{\}}

\end{DoxyCode}


output.\+css\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{@media\ (min-\/width:\ 20em)\ and\ (max-\/width:\ 50em)\ and\ (min-\/height:\ 300px)\ and\ (max-\/height:\ 600px)\ \{}
\DoxyCodeLine{\ \ }
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21336}{}\doxysubsection{\texorpdfstring{Grunt}{Grunt}}\label{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21336}

\begin{DoxyCode}{0}
\DoxyCodeLine{module.exports\ =\ function(grunt)\ \{}
\DoxyCodeLine{\ \ grunt.initConfig(\{}
\DoxyCodeLine{\ \ \ \ pkg:\ grunt.file.readJSON('package.json'),}
\DoxyCodeLine{\ \ \ \ postcss:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ options:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ processors:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ require('autoprefixer-\/core')(\{\ browsers:\ ['>\ 0\%']\ \}).postcss,\ //Other\ plugin}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ require('postcss-\/media-\/minmax')(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \ \ dist:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ src:\ ['src/*.css'],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ dest:\ 'build/grunt.css'}
\DoxyCodeLine{\ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ grunt.loadNpmTasks('grunt-\/contrib-\/uglify');}
\DoxyCodeLine{\ \ grunt.loadNpmTasks('grunt-\/postcss');}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ grunt.registerTask('default',\ ['postcss']);}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21337}{}\doxysubsection{\texorpdfstring{Gulp}{Gulp}}\label{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21337}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ gulp\ =\ require('gulp');}
\DoxyCodeLine{var\ rename\ =\ require('gulp-\/rename');}
\DoxyCodeLine{var\ postcss\ =\ require('gulp-\/postcss');}
\DoxyCodeLine{var\ selector\ =\ require('postcss-\/media-\/minmax')}
\DoxyCodeLine{var\ autoprefixer\ =\ require('autoprefixer-\/core')}
\DoxyCodeLine{}
\DoxyCodeLine{gulp.task('default',\ function\ ()\ \{}
\DoxyCodeLine{\ \ \ \ var\ processors\ =\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ autoprefixer(\{\ browsers:\ ['>\ 0\%']\ \}),\ //Other\ plugin}
\DoxyCodeLine{\ \ \ \ \ \ \ \ minmax()}
\DoxyCodeLine{\ \ \ \ ];}
\DoxyCodeLine{\ \ \ \ gulp.src('src/*.css')}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .pipe(postcss(processors))}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .pipe(rename('gulp.css'))}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .pipe(gulp.dest('build'))}
\DoxyCodeLine{\});}
\DoxyCodeLine{gulp.watch('src/*.css',\ ['default']);}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21338}{}\doxysection{\texorpdfstring{贡献}{贡献}}\label{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21338}

\begin{DoxyItemize}
\item 安装相关的依赖模块。
\item 尊重编码风格（安装 \href{http://editorconfig.org/}{\texttt{ Editor\+Config}}）。
\item 在\mbox{[}test\mbox{]}(test)目录添加测试用例。
\item 运行测试。
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{\$\ git\ clone\ https://github.com/postcss/postcss-\/media-\/minmaxs.git}
\DoxyCodeLine{\$\ git\ checkout\ -\/b\ patch}
\DoxyCodeLine{\$\ npm\ install}
\DoxyCodeLine{\$\ npm\ test}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21339}{}\doxysection{\texorpdfstring{致谢}{致谢}}\label{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21339}

\begin{DoxyItemize}
\item 感谢 Post\+CSS 作者 \href{https://github.com/ai}{\texttt{ Andrey Sitnik}}，带给我们如此简单易用的 CSS 语法解析工具。
\item 感谢 \href{http://xanthir.com/contact/}{\texttt{ Tab Atkins Jr.}} 辛苦编写了 Media Queries Level 4 规范。
\item 感谢 \href{http://weibo.com/p/1005051708684567}{\texttt{ @紫云飞}} 对本插件的建议和帮助。
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21340}{}\doxysection{\texorpdfstring{@ref "{}/home/step/\+Lab3\+\_\+4/node\+\_\+modules/postcss-\/media-\/minmax/\+CHANGELOG.\+md"{} "{}\+Changelog"{}}{@ref "/home/step/Lab3\_4/node\_modules/postcss-media-minmax/CHANGELOG.md" "Changelog"}}\label{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21340}
\hypertarget{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21341}{}\doxysection{\texorpdfstring{\mbox{[}\+License\mbox{]}(\+LICENSE)}{[License](LICENSE)}}\label{md_node__modules_2postcss-media-minmax_2README-zh_autotoc_md21341}
