\chapter{@leichtgewicht/ip-\/codec}
\hypertarget{md_node__modules_2_0dleichtgewicht_2ip-codec_2Readme}{}\label{md_node__modules_2_0dleichtgewicht_2ip-codec_2Readme}\index{"@leichtgewicht/ip-\/codec@{"@leichtgewicht/ip-\/codec}}
\label{md_node__modules_2_0dleichtgewicht_2ip-codec_2Readme_autotoc_md1909}%
\Hypertarget{md_node__modules_2_0dleichtgewicht_2ip-codec_2Readme_autotoc_md1909}%
 Small package to encode or decode IP addresses from buffers to strings. Supports IPV4 and IPV6.\hypertarget{md_node__modules_2_0dleichtgewicht_2ip-codec_2Readme_autotoc_md1910}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{md_node__modules_2_0dleichtgewicht_2ip-codec_2Readme_autotoc_md1910}
The basics are straigthforward


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ encode,\ decode,\ sizeOf,\ familyOf\ \}\ from\ '@leichtgewicht/ip-\/codec'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ uint8Array\ =\ encode("{}127.0.0.1"{})}
\DoxyCodeLine{const\ str\ =\ decode(uint8Array)}
\DoxyCodeLine{}
\DoxyCodeLine{try\ \{}
\DoxyCodeLine{\ \ switch\ sizeOf(str)\ \{}
\DoxyCodeLine{\ \ \ \ case\ 4:\ //\ IPv4}
\DoxyCodeLine{\ \ \ \ case\ 16:\ //\ IPv6}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\ \ switch\ familyOf(str)\ \{}
\DoxyCodeLine{\ \ \ \ case:\ 1:\ //\ IPv4}
\DoxyCodeLine{\ \ \ \ case:\ 2:\ //\ IPv6}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}\ catch\ (err)\ \{}
\DoxyCodeLine{\ \ //\ Invalid\ IP}
\DoxyCodeLine{\}}

\end{DoxyCode}


By default the library will work with Uint8\+Array\textquotesingle{}s but you can bring your own buffer\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ buf\ =\ Buffer.alloc(4)}
\DoxyCodeLine{encode('127.0.0.1',\ buf)}

\end{DoxyCode}


It is also possible to de-\/encode at a location inside a given buffer


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ buf\ =\ Buffer.alloc(10)}
\DoxyCodeLine{encode('127.0.0.1',\ buf,\ 4)}

\end{DoxyCode}


Allocation of a buffer may be difficult if you don\textquotesingle{}t know what type the buffer\+: you can pass in a generator to allocate it for you\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{encode('127.0.0.1',\ Buffer.alloc)}

\end{DoxyCode}


You can also de/encode ipv4 or ipv6 specifically\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ v4,\ v6\ \}\ from\ '@leichtgewicht/ip-\/codec'}
\DoxyCodeLine{}
\DoxyCodeLine{v4.decode(v4.encode('127.0.0.1'))}
\DoxyCodeLine{v6.decode(v6.encode('::'))}

\end{DoxyCode}
\hypertarget{md_node__modules_2_0dleichtgewicht_2ip-codec_2Readme_autotoc_md1911}{}\doxysection{\texorpdfstring{History}{History}}\label{md_node__modules_2_0dleichtgewicht_2ip-codec_2Readme_autotoc_md1911}
The code in this package was originally extracted from \href{https://github.com/indutny/node-ip}{\texttt{ node-\/ip}} and since improved.

Notable changes are the removal of the {\ttfamily Buffer} dependency and better support for detection of formats and allocation of buffers.\hypertarget{md_node__modules_2_0dleichtgewicht_2ip-codec_2Readme_autotoc_md1912}{}\doxysection{\texorpdfstring{License}{License}}\label{md_node__modules_2_0dleichtgewicht_2ip-codec_2Readme_autotoc_md1912}
\href{./LICENSE}{\texttt{ MIT}} 