\chapter{README}
\hypertarget{md_node__modules_2_0drollup_2plugin-replace_2README}{}\label{md_node__modules_2_0drollup_2plugin-replace_2README}\index{README@{README}}
\href{https://www.npmjs.com/package/@rollup/plugin-replace}{\texttt{ }} \href{https://packagephobia.now.sh/result?p=@rollup/plugin-replace}{\texttt{ }} \href{https://liberamanifesto.com}{\texttt{ }}\hypertarget{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2291}{}\doxysection{\texorpdfstring{@rollup/plugin-\/replace}{@rollup/plugin-replace}}\label{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2291}
ðŸ£ A Rollup plugin which replaces targeted strings in files while bundling.\hypertarget{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2292}{}\doxysubsection{\texorpdfstring{Requirements}{Requirements}}\label{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2292}
This plugin requires an \href{https://github.com/nodejs/Release}{\texttt{ LTS}} Node version (v8.\+0.\+0+) and Rollup v1.\+20.\+0+.\hypertarget{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2293}{}\doxysubsection{\texorpdfstring{Install}{Install}}\label{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2293}
Using npm\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ @rollup/plugin-\/replace\ -\/-\/save-\/dev}

\end{DoxyCode}
\hypertarget{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2294}{}\doxysubsection{\texorpdfstring{Usage}{Usage}}\label{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2294}
Create a {\ttfamily rollup.\+config.\+js} \href{https://www.rollupjs.org/guide/en/\#configuration-files}{\texttt{ configuration file}} and import the plugin\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ replace\ from\ '@rollup/plugin-\/replace';}
\DoxyCodeLine{}
\DoxyCodeLine{export\ default\ \{}
\DoxyCodeLine{\ \ input:\ 'src/index.js',}
\DoxyCodeLine{\ \ output:\ \{}
\DoxyCodeLine{\ \ \ \ dir:\ 'output',}
\DoxyCodeLine{\ \ \ \ format:\ 'cjs'}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ plugins:\ [}
\DoxyCodeLine{\ \ \ \ replace(\{}
\DoxyCodeLine{\ \ \ \ \ \ 'process.env.NODE\_ENV':\ JSON.stringify('production'),}
\DoxyCodeLine{\ \ \ \ \ \ \_\_buildDate\_\_:\ ()\ =>\ JSON.stringify(new\ Date()),}
\DoxyCodeLine{\ \ \ \ \ \ \_\_buildVersion:\ 15}
\DoxyCodeLine{\ \ \ \ \})}
\DoxyCodeLine{\ \ ]}
\DoxyCodeLine{\};}

\end{DoxyCode}


Then call {\ttfamily rollup} either via the \href{https://www.rollupjs.org/guide/en/\#command-line-reference}{\texttt{ CLI}} or the \href{https://www.rollupjs.org/guide/en/\#javascript-api}{\texttt{ API}}.

The configuration above will replace every instance of {\ttfamily process.\+env.\+NODE\+\_\+\+ENV} with {\ttfamily "{}production"{}} and {\ttfamily \+\_\+\+\_\+build\+Date\+\_\+\+\_\+} with the result of the given function in any file included in the build.

{\itshape Note\+: Values must be either primitives (e.\+g. string, number) or {\ttfamily function} that returns a string. For complex values, use {\ttfamily JSON.\+stringify}. To replace a target with a value that will be evaluated as a string, set the value to a quoted string (e.\+g. {\ttfamily "{}test"{}}) or use {\ttfamily JSON.\+stringify} to preprocess the target string safely.}

Typically, {\ttfamily @rollup/plugin-\/replace} should be placed in {\ttfamily plugins} {\itshape before} other plugins so that they may apply optimizations, such as dead code removal.\hypertarget{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2295}{}\doxysubsection{\texorpdfstring{Options}{Options}}\label{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2295}
In addition to the properties and values specified for replacement, users may also specify the options below.\hypertarget{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2296}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$delimiters$<$/tt$>$}{<tt>delimiters</tt>}}\label{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2296}
Type\+: {\ttfamily Array\mbox{[}...String, String\mbox{]}}~\newline
 Default\+: `\mbox{[}'{\bfseries{}}\textquotesingle{}, \textquotesingle{}{\bfseries{}}\textquotesingle{}\mbox{]}\`{}

Specifies the boundaries around which strings will be replaced. By default, delimiters are \href{https://www.regular-expressions.info/wordboundaries.html}{\texttt{ word boundaries}}. See Word Boundaries below for more information.\hypertarget{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2297}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$prevent\+Assignment$<$/tt$>$}{<tt>preventAssignment</tt>}}\label{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2297}
Type\+: {\ttfamily Boolean}~\newline
 Default\+: {\ttfamily false}

Prevents replacing strings where they are followed by a single equals sign. For example, where the plugin is called as follows\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{replace(\{}
\DoxyCodeLine{\ \ values:\ \{}
\DoxyCodeLine{\ \ \ \ 'process.env.DEBUG':\ 'false'}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}


Observe the following code\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ Input}
\DoxyCodeLine{process.env.DEBUG\ =\ false;}
\DoxyCodeLine{if\ (process.env.DEBUG\ ==\ true)\ \{}
\DoxyCodeLine{\ \ //}
\DoxyCodeLine{\}}
\DoxyCodeLine{//\ Without\ \`{}preventAssignment`}
\DoxyCodeLine{false\ =\ false;\ //\ this\ throws\ an\ error\ because\ false\ cannot\ be\ assigned\ to}
\DoxyCodeLine{if\ (false\ ==\ true)\ \{}
\DoxyCodeLine{\ \ //}
\DoxyCodeLine{\}}
\DoxyCodeLine{//\ With\ \`{}preventAssignment`}
\DoxyCodeLine{process.env.DEBUG\ =\ false;}
\DoxyCodeLine{if\ (false\ ==\ true)\ \{}
\DoxyCodeLine{\ \ //}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2298}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$exclude$<$/tt$>$}{<tt>exclude</tt>}}\label{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2298}
Type\+: {\ttfamily String} \texorpdfstring{$\vert$}{|} {\ttfamily Array\mbox{[}...String\mbox{]}}~\newline
 Default\+: {\ttfamily null}

A \href{https://github.com/isaacs/minimatch}{\texttt{ minimatch pattern}}, or array of patterns, which specifies the files in the build the plugin should {\itshape ignore}. By default no files are ignored.\hypertarget{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2299}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$include$<$/tt$>$}{<tt>include</tt>}}\label{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2299}
Type\+: {\ttfamily String} \texorpdfstring{$\vert$}{|} {\ttfamily Array\mbox{[}...String\mbox{]}}~\newline
 Default\+: {\ttfamily null}

A \href{https://github.com/isaacs/minimatch}{\texttt{ minimatch pattern}}, or array of patterns, which specifies the files in the build the plugin should operate on. By default all files are targeted.\hypertarget{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2300}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$values$<$/tt$>$}{<tt>values</tt>}}\label{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2300}
Type\+: {\ttfamily \{ \mbox{[}key\+: String\mbox{]}\+: Replacement \}}, where {\ttfamily Replacement} is either a string or a {\ttfamily function} that returns a string. Default\+: {\ttfamily \{\}}

To avoid mixing replacement strings with the other options, you can specify replacements in the {\ttfamily values} option. For example, the following signature\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{replace(\{}
\DoxyCodeLine{\ \ include:\ ['src/**/*.js'],}
\DoxyCodeLine{\ \ changed:\ 'replaced'}
\DoxyCodeLine{\});}

\end{DoxyCode}


Can be replaced with\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{replace(\{}
\DoxyCodeLine{\ \ include:\ ['src/**/*.js'],}
\DoxyCodeLine{\ \ values:\ \{}
\DoxyCodeLine{\ \ \ \ changed:\ 'replaced'}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2301}{}\doxysubsection{\texorpdfstring{Word Boundaries}{Word Boundaries}}\label{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2301}
By default, values will only match if they are surrounded by {\itshape word boundaries}.

Consider the following options and build file\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{module.exports\ =\ \{}
\DoxyCodeLine{\ \ ...}
\DoxyCodeLine{\ \ plugins:\ [replace(\{\ changed:\ 'replaced'\ \})]}
\DoxyCodeLine{\};}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{//\ file.js}
\DoxyCodeLine{console.log('changed');}
\DoxyCodeLine{console.log('unchanged');}

\end{DoxyCode}


The result would be\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ file.js}
\DoxyCodeLine{console.log('replaced');}
\DoxyCodeLine{console.log('unchanged');}

\end{DoxyCode}


To ignore word boundaries and replace every instance of the string, wherever it may be, specify empty strings as delimiters\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{export\ default\ \{}
\DoxyCodeLine{\ \ ...}
\DoxyCodeLine{\ \ plugins:\ [}
\DoxyCodeLine{\ \ \ \ replace(\{}
\DoxyCodeLine{\ \ \ \ \ \ changed:\ 'replaced',}
\DoxyCodeLine{\ \ \ \ \ \ delimiters:\ ['',\ '']}
\DoxyCodeLine{\ \ \ \ \})}
\DoxyCodeLine{\ \ ]}
\DoxyCodeLine{\};}

\end{DoxyCode}
\hypertarget{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2302}{}\doxysubsection{\texorpdfstring{Meta}{Meta}}\label{md_node__modules_2_0drollup_2plugin-replace_2README_autotoc_md2302}
CONTRIBUTING

\href{/LICENSE}{\texttt{ LICENSE (MIT)}} 