\chapter{README}
\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README}{}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README}\index{README@{README}}
\href{https://www.npmjs.com/package/@rollup/plugin-node-resolve}{\texttt{ }} \href{https://packagephobia.now.sh/result?p=@rollup/plugin-node-resolve}{\texttt{ }} \href{https://liberamanifesto.com}{\texttt{ }}\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2240}{}\doxysection{\texorpdfstring{@rollup/plugin-\/node-\/resolve}{@rollup/plugin-node-resolve}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2240}
üç£ A Rollup plugin which locates modules using the \href{https://nodejs.org/api/modules.html\#modules_all_together}{\texttt{ Node resolution algorithm}}, for using third party modules in {\ttfamily node\+\_\+modules}\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2241}{}\doxysubsection{\texorpdfstring{Requirements}{Requirements}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2241}
This plugin requires an \href{https://github.com/nodejs/Release}{\texttt{ LTS}} Node version (v8.\+0.\+0+) and Rollup v1.\+20.\+0+.\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2242}{}\doxysubsection{\texorpdfstring{Install}{Install}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2242}
Using npm\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ @rollup/plugin-\/node-\/resolve\ -\/-\/save-\/dev}

\end{DoxyCode}
\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2243}{}\doxysubsection{\texorpdfstring{Usage}{Usage}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2243}
Create a {\ttfamily rollup.\+config.\+js} \href{https://www.rollupjs.org/guide/en/\#configuration-files}{\texttt{ configuration file}} and import the plugin\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ nodeResolve\ \}\ from\ '@rollup/plugin-\/node-\/resolve';}
\DoxyCodeLine{}
\DoxyCodeLine{export\ default\ \{}
\DoxyCodeLine{\ \ input:\ 'src/index.js',}
\DoxyCodeLine{\ \ output:\ \{}
\DoxyCodeLine{\ \ \ \ dir:\ 'output',}
\DoxyCodeLine{\ \ \ \ format:\ 'cjs'}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ plugins:\ [nodeResolve()]}
\DoxyCodeLine{\};}

\end{DoxyCode}


Then call {\ttfamily rollup} either via the \href{https://www.rollupjs.org/guide/en/\#command-line-reference}{\texttt{ CLI}} or the \href{https://www.rollupjs.org/guide/en/\#javascript-api}{\texttt{ API}}.\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2244}{}\doxysubsection{\texorpdfstring{Package entrypoints}{Package entrypoints}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2244}
This plugin supports the package entrypoints feature from node js, specified in the {\ttfamily exports} or {\ttfamily imports} field of a package. Check the \href{https://nodejs.org/api/packages.html\#packages_package_entry_points}{\texttt{ official documentation}} for more information on how this works. This is the default behavior. In the abscence of these fields, the fields in {\ttfamily main\+Fields} will be the ones to be used.\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2245}{}\doxysubsection{\texorpdfstring{Options}{Options}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2245}
\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2246}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$export\+Conditions$<$/tt$>$}{<tt>exportConditions</tt>}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2246}
Type\+: {\ttfamily Array\mbox{[}...String\mbox{]}}~\newline
 Default\+: {\ttfamily \mbox{[}\mbox{]}}

Additional conditions of the package.\+json exports field to match when resolving modules. By default, this plugin looks for the `\mbox{[}\textquotesingle{}default', \textquotesingle{}module\textquotesingle{}, \textquotesingle{}import\textquotesingle{}\mbox{]}\`{} conditions when resolving imports.

When using {\ttfamily @rollup/plugin-\/commonjs} v16 or higher, this plugin will use the `\mbox{[}\textquotesingle{}default', \textquotesingle{}module\textquotesingle{}, \textquotesingle{}require\textquotesingle{}\mbox{]}\`{} conditions when resolving require statements.

Setting this option will add extra conditions on top of the default conditions. See \href{https://nodejs.org/api/packages.html\#packages_conditional_exports}{\texttt{ https\+://nodejs.\+org/api/packages.\+html\#packages\+\_\+conditional\+\_\+exports}} for more information.\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2247}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$browser$<$/tt$>$}{<tt>browser</tt>}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2247}
Type\+: {\ttfamily Boolean}~\newline
 Default\+: {\ttfamily false}

If {\ttfamily true}, instructs the plugin to use the {\ttfamily "{}browser"{}} property in {\ttfamily package.\+json} files to specify alternative files to load for bundling. This is useful when bundling for a browser environment. Alternatively, a value of `\textquotesingle{}browser'{\ttfamily can be added to the}main\+Fields{\ttfamily option. If}false{\ttfamily , any}"{}browser"{}{\ttfamily properties in package files will be ignored. This option takes precedence over}main\+Fields\`{}.

\begin{quote}
This option does not work when a package is using \href{https://nodejs.org/api/packages.html\#packages_package_entry_points}{\texttt{ package entrypoints}} \end{quote}
\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2248}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$module\+Directories$<$/tt$>$}{<tt>moduleDirectories</tt>}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2248}
Type\+: {\ttfamily Array\mbox{[}...String\mbox{]}}~\newline
 Default\+: `\mbox{[}\textquotesingle{}node\+\_\+modules'\mbox{]}\`{}

One or more directories in which to recursively look for modules.\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2249}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$dedupe$<$/tt$>$}{<tt>dedupe</tt>}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2249}
Type\+: {\ttfamily Array\mbox{[}...String\mbox{]}}~\newline
 Default\+: {\ttfamily \mbox{[}\mbox{]}}

An {\ttfamily Array} of modules names, which instructs the plugin to force resolving for the specified modules to the root {\ttfamily node\+\_\+modules}. Helps to prevent bundling the same package multiple times if package is imported from dependencies.


\begin{DoxyCode}{0}
\DoxyCodeLine{dedupe:\ ['my-\/package',\ '@namespace/my-\/package'];}

\end{DoxyCode}


This will deduplicate bare imports such as\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ 'my-\/package';}
\DoxyCodeLine{import\ '@namespace/my-\/package';}

\end{DoxyCode}


And it will deduplicate deep imports such as\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ 'my-\/package/foo.js';}
\DoxyCodeLine{import\ '@namespace/my-\/package/bar.js';}

\end{DoxyCode}
\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2250}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$extensions$<$/tt$>$}{<tt>extensions</tt>}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2250}
Type\+: {\ttfamily Array\mbox{[}...String\mbox{]}}~\newline
 Default\+: `\mbox{[}'.mjs\textquotesingle{}, \textquotesingle{}.js\textquotesingle{}, \textquotesingle{}.json\textquotesingle{}, \textquotesingle{}.node\textquotesingle{}\mbox{]}\`{}

Specifies the extensions of files that the plugin will operate on.\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2251}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$jail$<$/tt$>$}{<tt>jail</tt>}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2251}
Type\+: {\ttfamily String}~\newline
 Default\+: `'/\textquotesingle{}\`{}

Locks the module search within specified path (e.\+g. chroot). Modules defined outside this path will be ignored by this plugin.\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2252}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$main\+Fields$<$/tt$>$}{<tt>mainFields</tt>}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2252}
Type\+: {\ttfamily Array\mbox{[}...String\mbox{]}}~\newline
 Default\+: `\mbox{[}\textquotesingle{}module', \textquotesingle{}main\textquotesingle{}\mbox{]}{\ttfamily \texorpdfstring{$<$}{<}br\texorpdfstring{$>$}{>} Valid values\+:}\mbox{[}\textquotesingle{}browser\textquotesingle{}, \textquotesingle{}jsnext\+:main\textquotesingle{}, \textquotesingle{}module\textquotesingle{}, \textquotesingle{}main\textquotesingle{}\mbox{]}\`{}

Specifies the properties to scan within a {\ttfamily package.\+json}, used to determine the bundle entry point. The order of property names is significant, as the first-\/found property is used as the resolved entry point. If the array contains `\textquotesingle{}browser'{\ttfamily , key/values specified in the}package.\+jsonbrowser\`{} property will be used.\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2253}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$prefer\+Builtins$<$/tt$>$}{<tt>preferBuiltins</tt>}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2253}
Type\+: {\ttfamily Boolean}~\newline
 Default\+: {\ttfamily true} (with warnings if a builtin module is used over a local version. Set to {\ttfamily true} to disable warning.)

If {\ttfamily true}, the plugin will prefer built-\/in modules (e.\+g. {\ttfamily fs}, {\ttfamily path}). If {\ttfamily false}, the plugin will look for locally installed modules of the same name.\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2254}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$modules\+Only$<$/tt$>$}{<tt>modulesOnly</tt>}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2254}
Type\+: {\ttfamily Boolean}~\newline
 Default\+: {\ttfamily false}

If {\ttfamily true}, inspect resolved files to assert that they are ES2015 modules.\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2255}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$resolve\+Only$<$/tt$>$}{<tt>resolveOnly</tt>}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2255}
Type\+: {\ttfamily Array\mbox{[}...String\texorpdfstring{$\vert$}{|}\+Reg\+Exp\mbox{]}}~\newline
 Default\+: {\ttfamily null}

An {\ttfamily Array} which instructs the plugin to limit module resolution to those whose names match patterns in the array. {\itshape Note\+: Modules not matching any patterns will be marked as external.}

Example\+: `resolve\+Only\+: \mbox{[}\textquotesingle{}batman', /\texorpdfstring{$^\wedge$}{\string^}@batcave\textbackslash{}/.\texorpdfstring{$\ast$}{*}\$/\mbox{]}\`{}\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2256}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$root\+Dir$<$/tt$>$}{<tt>rootDir</tt>}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2256}
Type\+: {\ttfamily String}~\newline
 Default\+: {\ttfamily process.\+cwd()}

Specifies the root directory from which to resolve modules. Typically used when resolving entry-\/point imports, and when resolving deduplicated modules. Useful when executing rollup in a package of a mono-\/repository.


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ Set\ the\ root\ directory\ to\ be\ the\ parent\ folder}
\DoxyCodeLine{rootDir:\ path.join(process.cwd(),\ '..')}

\end{DoxyCode}
\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2257}{}\doxysubsection{\texorpdfstring{$<$tt$>$ignore\+Side\+Effects\+For\+Root$<$/tt$>$}{<tt>ignoreSideEffectsForRoot</tt>}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2257}
If you use the {\ttfamily side\+Effects} property in the package.\+json, by default this is respected for files in the root package. Set to {\ttfamily true} to ignore the {\ttfamily side\+Effects} configuration for the root package.\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2258}{}\doxysubsection{\texorpdfstring{Preserving symlinks}{Preserving symlinks}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2258}
This plugin honours the rollup \href{https://rollupjs.org/guide/en/\#preservesymlinks}{\texttt{ {\ttfamily preserve\+Symlinks}}} option.\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2259}{}\doxysubsection{\texorpdfstring{Using with @rollup/plugin-\/commonjs}{Using with @rollup/plugin-commonjs}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2259}
Since most packages in your node\+\_\+modules folder are probably legacy Common\+JS rather than Java\+Script modules, you may need to use \href{https://github.com/rollup/plugins/tree/master/packages/commonjs}{\texttt{ @rollup/plugin-\/commonjs}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ rollup.config.js}
\DoxyCodeLine{import\ \{\ nodeResolve\ \}\ from\ '@rollup/plugin-\/node-\/resolve';}
\DoxyCodeLine{import\ commonjs\ from\ '@rollup/plugin-\/commonjs';}
\DoxyCodeLine{}
\DoxyCodeLine{export\ default\ \{}
\DoxyCodeLine{\ \ input:\ 'main.js',}
\DoxyCodeLine{\ \ output:\ \{}
\DoxyCodeLine{\ \ \ \ file:\ 'bundle.js',}
\DoxyCodeLine{\ \ \ \ format:\ 'iife',}
\DoxyCodeLine{\ \ \ \ name:\ 'MyModule'}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ plugins:\ [nodeResolve(),\ commonjs()]}
\DoxyCodeLine{\};}

\end{DoxyCode}
\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2260}{}\doxysubsection{\texorpdfstring{Resolving Built-\/\+Ins (like $<$tt$>$fs$<$/tt$>$)}{Resolving Built-Ins (like <tt>fs</tt>)}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2260}
By default this plugin will prefer built-\/ins over local modules, marking them as external.

See \`{}prefer\+Builtins\`{}.

To provide stubbed versions of Node built-\/ins, use a plugin like \href{https://github.com/ionic-team/rollup-plugin-node-polyfills}{\texttt{ rollup-\/plugin-\/node-\/polyfills}} and set {\ttfamily prefer\+Builtins} to {\ttfamily false}. e.\+g.


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ nodeResolve\ \}\ from\ '@rollup/plugin-\/node-\/resolve';}
\DoxyCodeLine{import\ nodePolyfills\ from\ 'rollup-\/plugin-\/node-\/polyfills';}
\DoxyCodeLine{export\ default\ (\{}
\DoxyCodeLine{\ \ input:\ ...,}
\DoxyCodeLine{\ \ plugins:\ [}
\DoxyCodeLine{\ \ \ \ nodePolyfills(),}
\DoxyCodeLine{\ \ \ \ nodeResolve(\{\ preferBuiltins:\ false\ \})}
\DoxyCodeLine{\ \ ],}
\DoxyCodeLine{\ \ external:\ builtins,}
\DoxyCodeLine{\ \ output:\ ...}
\DoxyCodeLine{\})}

\end{DoxyCode}
\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2261}{}\doxysubsection{\texorpdfstring{Resolving require statements}{Resolving require statements}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2261}
According to \href{https://nodejs.org/api/packages.html\#packages_package_entry_points}{\texttt{ Node\+JS module resolution}} {\ttfamily require} statements should resolve using the {\ttfamily require} condition in the package exports field, while es modules should use the {\ttfamily import} condition.

The node resolve plugin uses {\ttfamily import} by default, you can opt into using the {\ttfamily require} semantics by passing an extra option to the resolve function\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{this.resolve(importee,\ importer,\ \{}
\DoxyCodeLine{\ \ skipSelf:\ true,}
\DoxyCodeLine{\ \ custom:\ \{\ 'node-\/resolve':\ \{\ isRequire:\ true\ \}\ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2262}{}\doxysubsection{\texorpdfstring{Meta}{Meta}}\label{md_node__modules_2_0drollup_2plugin-node-resolve_2README_autotoc_md2262}
CONTRIBUTING

\href{/LICENSE}{\texttt{ LICENSE (MIT)}} 