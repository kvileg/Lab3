\chapter{throat}
\hypertarget{md_node__modules_2throat_2README}{}\label{md_node__modules_2throat_2README}\index{throat@{throat}}
\label{md_node__modules_2throat_2README_autotoc_md28345}%
\Hypertarget{md_node__modules_2throat_2README_autotoc_md28345}%
 Throttle the parallelism of an asynchronous, promise returning, function / functions. This has special utility when you set the concurrency to {\ttfamily 1}. That way you get a mutually exclusive lock.

\href{https://tidelift.com/subscription/pkg/npm-throat?utm_source=npm-throat&utm_medium=referral&utm_campaign=readme}{\texttt{ Professionally supported throat is now available}}

\href{https://github.com/ForbesLindesay/throat/actions/workflows/test.yml?query=branch\%3Amaster}{\texttt{ }} \href{https://coveralls.io/github/ForbesLindesay/throat}{\texttt{ }} \href{https://rollingversions.com/ForbesLindesay/throat}{\texttt{ }} \href{https://www.npmjs.com/package/throat}{\texttt{ }}\hypertarget{md_node__modules_2throat_2README_autotoc_md28346}{}\doxysection{\texorpdfstring{Installation}{Installation}}\label{md_node__modules_2throat_2README_autotoc_md28346}
\begin{DoxyVerb}npm install throat
\end{DoxyVerb}
 \hypertarget{md_node__modules_2throat_2README_autotoc_md28347}{}\doxysection{\texorpdfstring{API}{API}}\label{md_node__modules_2throat_2README_autotoc_md28347}
\hypertarget{md_node__modules_2throat_2README_autotoc_md28348}{}\doxysubsection{\texorpdfstring{throat(concurrency)}{throat(concurrency)}}\label{md_node__modules_2throat_2README_autotoc_md28348}
This returns a function that acts a bit like a lock (exactly as a lock if concurrency is 1).

Example, only 2 of the following functions will execute at any one time\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ throat\ =\ require('throat')(2);}
\DoxyCodeLine{}
\DoxyCodeLine{const\ resA\ =\ throat(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ /*\ async\ stuff...\ */}
\DoxyCodeLine{\});}
\DoxyCodeLine{const\ resB\ =\ throat(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ /*\ async\ stuff...\ */}
\DoxyCodeLine{\});}
\DoxyCodeLine{const\ resC\ =\ throat(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ /*\ async\ stuff...\ */}
\DoxyCodeLine{\});}
\DoxyCodeLine{const\ resD\ =\ throat(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ /*\ async\ stuff...\ */}
\DoxyCodeLine{\});}
\DoxyCodeLine{const\ resE\ =\ throat(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ /*\ async\ stuff...\ */}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{md_node__modules_2throat_2README_autotoc_md28349}{}\doxysubsection{\texorpdfstring{throat(concurrency, worker)}{throat(concurrency, worker)}}\label{md_node__modules_2throat_2README_autotoc_md28349}
This returns a function that is an exact copy of {\ttfamily worker} except that it will only execute up to {\ttfamily concurrency} times in parallel before further requests are queued\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ throat\ =\ require('throat');}
\DoxyCodeLine{}
\DoxyCodeLine{const\ input\ =\ ['fileA.txt',\ 'fileB.txt',\ 'fileC.txt',\ 'fileD.txt'];}
\DoxyCodeLine{const\ data\ =\ Promise.all(}
\DoxyCodeLine{\ \ input.map(throat(2,\ (fileName)\ =>\ readFile(fileName)))}
\DoxyCodeLine{);}

\end{DoxyCode}


Only 2 files will be read at a time, sometimes limiting parallelism in this way can improve scalability.\hypertarget{md_node__modules_2throat_2README_autotoc_md28350}{}\doxysection{\texorpdfstring{Security contact information}{Security contact information}}\label{md_node__modules_2throat_2README_autotoc_md28350}
To report a security vulnerability, please use the \href{https://tidelift.com/security}{\texttt{ Tidelift security contact}}. Tidelift will coordinate the fix and disclosure.\hypertarget{md_node__modules_2throat_2README_autotoc_md28351}{}\doxysection{\texorpdfstring{License}{License}}\label{md_node__modules_2throat_2README_autotoc_md28351}
MIT 