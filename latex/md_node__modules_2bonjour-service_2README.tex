\chapter{bonjour-\/service}
\hypertarget{md_node__modules_2bonjour-service_2README}{}\label{md_node__modules_2bonjour-service_2README}\index{bonjour-\/service@{bonjour-\/service}}
\label{md_node__modules_2bonjour-service_2README_autotoc_md6853}%
\Hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6853}%
      \href{https://deepscan.io/dashboard\#view=project&tid=13435&pid=16430&bid=352351}{\texttt{ }}

A Bonjour/\+Zeroconf protocol implementation in Type\+Script. Publish services on the local network or discover existing services using multicast DNS.

This is a rewrite of the project Bonjour (\href{https://github.com/watson/bonjour}{\texttt{ https\+://github.\+com/watson/bonjour}}) into modern Type\+Script.

bonjour-\/service is supported by \href{https://onlx.ltd/?src=bonjour-service}{\texttt{ ON LX Limited}}. Check out our projects such as \href{https://onlx.ltd/ctrl-suite?src=bonjour-service}{\texttt{ Ctrl Suite}} and \href{https://onlx.ltd/ctrl-for-ipad?src=bonjour-service}{\texttt{ Ctrl for i\+Pad}}.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6854}{}\doxysection{\texorpdfstring{Installation}{Installation}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6854}
Add to your project dependencies using Yarn or NPM.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6855}{}\doxysubsubsection{\texorpdfstring{Install with Yarn}{Install with Yarn}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6855}

\begin{DoxyCode}{0}
\DoxyCodeLine{yarn\ add\ bonjour-\/service}

\end{DoxyCode}
 \hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6856}{}\doxysubsubsection{\texorpdfstring{Install with NPM}{Install with NPM}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6856}

\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ bonjour-\/service}

\end{DoxyCode}
\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6857}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6857}

\begin{DoxyCode}{0}
\DoxyCodeLine{import\ Bonjour\ from\ 'bonjour-\/service'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ instance\ =\ new\ Bonjour()}
\DoxyCodeLine{}
\DoxyCodeLine{//\ advertise\ an\ HTTP\ server\ on\ port\ 3000}
\DoxyCodeLine{instance.publish(\{\ name:\ 'My\ Web\ Server',\ type:\ 'http',\ port:\ 3000\ \})}
\DoxyCodeLine{}
\DoxyCodeLine{//\ browse\ for\ all\ http\ services}
\DoxyCodeLine{instance.find(\{\ type:\ 'http'\ \},\ function\ (service)\ \{}
\DoxyCodeLine{\ \ console.log('Found\ an\ HTTP\ server:',\ service)}
\DoxyCodeLine{\})}

\end{DoxyCode}
\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6858}{}\doxysection{\texorpdfstring{API}{API}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6858}
\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6859}{}\doxysubsection{\texorpdfstring{Initializing}{Initializing}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6859}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ instance\ =\ new\ Bonjour(\{\ options\ \},\ errorCallback)}

\end{DoxyCode}


The {\ttfamily options} are optional and will be used when initializing the underlying multicast-\/dns server. For details see \href{https://github.com/mafintosh/multicast-dns\#mdns--multicastdnsoptions}{\texttt{ the multicast-\/dns documentation}}.

{\ttfamily error\+Callback} is an optional callback used to gracefully handle errors that would otherwise crash the process. While not being strictly required, providing this is highly recommended\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6860}{}\doxysubsection{\texorpdfstring{Publishing}{Publishing}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6860}
\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6861}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$var service = bonjour.\+publish(options)$<$/tt$>$}{<tt>var service = bonjour.publish(options)</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6861}
Publishes a new service.

Options are\+:


\begin{DoxyItemize}
\item {\ttfamily name} (string)
\item {\ttfamily host} (string, optional) -\/ defaults to local hostname
\item {\ttfamily port} (number)
\item {\ttfamily type} (string)
\item {\ttfamily subtypes} (array of strings, optional)
\item {\ttfamily protocol} (string, optional) -\/ {\ttfamily udp} or {\ttfamily tcp} (default)
\item {\ttfamily txt} (object, optional) -\/ a key/value object to broadcast as the TXT record
\item {\ttfamily disable\+IPv6} (boolean, optional) disble IPv6 addresses
\end{DoxyItemize}

IANA maintains a \href{http://www.iana.org/assignments/service-names-port-numbers/service-names-port-numbers.xhtml}{\texttt{ list of official service types and port numbers}}.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6862}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$bonjour.\+unpublish\+All(\mbox{[}callback\mbox{]})$<$/tt$>$}{<tt>bonjour.unpublishAll([callback])</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6862}
Unpublish all services. The optional {\ttfamily callback} will be called when the services have been unpublished.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6863}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$bonjour.\+destroy()$<$/tt$>$}{<tt>bonjour.destroy()</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6863}
Destroy the mdns instance. Closes the udp socket.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6864}{}\doxysubsection{\texorpdfstring{Browser}{Browser}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6864}
\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6865}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$var browser = bonjour.\+find(options\mbox{[}, onup\mbox{]})$<$/tt$>$}{<tt>var browser = bonjour.find(options[, onup])</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6865}
Listen for services advertised on the network. An optional callback can be provided as the 2nd argument and will be added as an event listener for the {\ttfamily up} event.

Options (all optional)\+:


\begin{DoxyItemize}
\item {\ttfamily type} (string)
\item {\ttfamily subtypes} (array of strings)
\item {\ttfamily protocol} (string) -\/ defaults to {\ttfamily tcp}
\item {\ttfamily txt} (object) -\/ passed into \href{https://github.com/watson/dns-txt}{\texttt{ dns-\/txt module}} contructor. Set to {\ttfamily \{ binary\+: true \}} if you want to keep the TXT records in binary
\end{DoxyItemize}\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6866}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$var browser = bonjour.\+find\+One(options\mbox{[}, callback\mbox{]})$<$/tt$>$}{<tt>var browser = bonjour.findOne(options[, callback])</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6866}
Listen for and call the {\ttfamily callback} with the first instance of a service matching the {\ttfamily options}. If no {\ttfamily callback} is given, it\textquotesingle{}s expected that you listen for the {\ttfamily up} event. The returned {\ttfamily browser} will automatically stop it self after the first matching service.

Options are the same as given in the {\ttfamily browser.\+find} function.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6867}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$\+Event\+: up$<$/tt$>$}{<tt>Event: up</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6867}
Emitted every time a new service is found that matches the browser.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6868}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$\+Event\+: down$<$/tt$>$}{<tt>Event: down</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6868}
Emitted every time an existing service emmits a goodbye message.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6869}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$\+Event\+: txt-\/update$<$/tt$>$}{<tt>Event: txt-update</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6869}
Emitted every time an existing service does a new announcement with an updated TXT record.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6870}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$browser.\+services()$<$/tt$>$}{<tt>browser.services()</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6870}
An array of services known by the browser to be online.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6871}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$browser.\+start()$<$/tt$>$}{<tt>browser.start()</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6871}
Start looking for matching services.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6872}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$browser.\+stop()$<$/tt$>$}{<tt>browser.stop()</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6872}
Stop looking for matching services.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6873}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$browser.\+update()$<$/tt$>$}{<tt>browser.update()</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6873}
Broadcast the query again.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6874}{}\doxysubsection{\texorpdfstring{Service}{Service}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6874}
\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6875}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$\+Event\+: up$<$/tt$>$}{<tt>Event: up</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6875}
Emitted when the service is up.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6876}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$\+Event\+: error$<$/tt$>$}{<tt>Event: error</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6876}
Emitted if an error occurrs while publishing the service.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6877}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$service.\+stop(\mbox{[}callback\mbox{]})$<$/tt$>$}{<tt>service.stop([callback])</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6877}
Unpublish the service. The optional {\ttfamily callback} will be called when the service have been unpublished.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6878}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$service.\+start()$<$/tt$>$}{<tt>service.start()</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6878}
Publish the service.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6879}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$service.\+name$<$/tt$>$}{<tt>service.name</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6879}
The name of the service, e.\+g. {\ttfamily Apple TV}.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6880}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$service.\+type$<$/tt$>$}{<tt>service.type</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6880}
The type of the service, e.\+g. {\ttfamily http}.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6881}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$service.\+subtypes$<$/tt$>$}{<tt>service.subtypes</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6881}
An array of subtypes. Note that this property might be {\ttfamily null}.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6882}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$service.\+protocol$<$/tt$>$}{<tt>service.protocol</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6882}
The protocol used by the service, e.\+g. {\ttfamily tcp}.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6883}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$service.\+host$<$/tt$>$}{<tt>service.host</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6883}
The hostname or ip address where the service resides.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6884}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$service.\+port$<$/tt$>$}{<tt>service.port</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6884}
The port on which the service listens, e.\+g. {\ttfamily 5000}.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6885}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$service.\+fqdn$<$/tt$>$}{<tt>service.fqdn</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6885}
The fully qualified domain name of the service. E.\+g. if given the name {\ttfamily Foo Bar}, the type {\ttfamily http} and the protocol {\ttfamily tcp}, the {\ttfamily service.\+fqdn} property will be {\ttfamily Foo Bar.\+\_\+http.\+\_\+tcp.\+local}.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6886}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$service.\+txt$<$/tt$>$}{<tt>service.txt</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6886}
The TXT record advertised by the service (a key/value object). Note that this property might be {\ttfamily null}.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6887}{}\doxysubsubsection{\texorpdfstring{$<$tt$>$service.\+published$<$/tt$>$}{<tt>service.published</tt>}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6887}
A boolean indicating if the service is currently published.\hypertarget{md_node__modules_2bonjour-service_2README_autotoc_md6888}{}\doxysection{\texorpdfstring{License}{License}}\label{md_node__modules_2bonjour-service_2README_autotoc_md6888}
MIT 