\chapter{Lilconfig ⚙️}
\hypertarget{md_node__modules_2lilconfig_2readme}{}\label{md_node__modules_2lilconfig_2readme}\index{Lilconfig ⚙️@{Lilconfig ⚙️}}
\label{md_node__modules_2lilconfig_2readme_autotoc_md18701}%
\Hypertarget{md_node__modules_2lilconfig_2readme_autotoc_md18701}%
\href{https://badge.fury.io/js/lilconfig}{\texttt{ }} \href{https://packagephobia.now.sh/result?p=lilconfig}{\texttt{ }} \href{https://coveralls.io/github/antonk52/lilconfig}{\texttt{ }}

A zero-\/dependency alternative to \href{https://www.npmjs.com/package/cosmiconfig}{\texttt{ cosmiconfig}} with the same API.\hypertarget{md_node__modules_2lilconfig_2readme_autotoc_md18702}{}\doxysection{\texorpdfstring{Installation}{Installation}}\label{md_node__modules_2lilconfig_2readme_autotoc_md18702}

\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ lilconfig}

\end{DoxyCode}
\hypertarget{md_node__modules_2lilconfig_2readme_autotoc_md18703}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{md_node__modules_2lilconfig_2readme_autotoc_md18703}

\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{lilconfig,\ lilconfigSync\}\ from\ 'lilconfig';}
\DoxyCodeLine{}
\DoxyCodeLine{//\ all\ keys\ are\ optional}
\DoxyCodeLine{const\ options\ =\ \{}
\DoxyCodeLine{\ \ \ \ stopDir:\ '/Users/you/some/dir',}
\DoxyCodeLine{\ \ \ \ searchPlaces:\ ['package.json',\ 'myapp.conf.js'],}
\DoxyCodeLine{\ \ \ \ ignoreEmptySearchPlaces:\ false}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{lilconfig(}
\DoxyCodeLine{\ \ \ \ 'myapp',}
\DoxyCodeLine{\ \ \ \ options\ //\ optional}
\DoxyCodeLine{).search()\ //\ Promise<LilconfigResult>}
\DoxyCodeLine{}
\DoxyCodeLine{lilconfigSync(}
\DoxyCodeLine{\ \ \ \ 'myapp',}
\DoxyCodeLine{\ \ \ \ options\ //\ optional}
\DoxyCodeLine{).load(pathToConfig)\ //\ LilconfigResult}
\DoxyCodeLine{}
\DoxyCodeLine{/**}
\DoxyCodeLine{\ *\ LilconfigResult}
\DoxyCodeLine{\ *\ \{}
\DoxyCodeLine{\ *\ \ \ config:\ any;\ //\ your\ config}
\DoxyCodeLine{\ *\ \ \ filepath:\ string;}
\DoxyCodeLine{\ *\ \}}
\DoxyCodeLine{\ */}

\end{DoxyCode}
\hypertarget{md_node__modules_2lilconfig_2readme_autotoc_md18704}{}\doxysection{\texorpdfstring{Difference to $<$tt$>$cosmiconfig$<$/tt$>$}{Difference to <tt>cosmiconfig</tt>}}\label{md_node__modules_2lilconfig_2readme_autotoc_md18704}
Lilconfig does not intend to be 100\% compatible with {\ttfamily cosmiconfig} but tries to mimic it where possible. The key differences are\+:
\begin{DoxyItemize}
\item {\bfseries{no}} support for yaml files out of the box({\ttfamily lilconfig} attempts to parse files with no extension as JSON instead of YAML). You can still add the support for YAML files by providing a loader, see an example below.
\item {\bfseries{no}} cache
\end{DoxyItemize}\hypertarget{md_node__modules_2lilconfig_2readme_autotoc_md18705}{}\doxysubsection{\texorpdfstring{Options difference between the two.}{Options difference between the two.}}\label{md_node__modules_2lilconfig_2readme_autotoc_md18705}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ cosmiconfig option   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ lilconfig    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ cosmiconfig option   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ lilconfig    }\\\cline{1-2}
\endhead
cache   &❌    \\\cline{1-2}
loaders   &✅    \\\cline{1-2}
ignore\+Empty\+Search\+Places   &✅    \\\cline{1-2}
package\+Prop   &✅    \\\cline{1-2}
search\+Places   &✅    \\\cline{1-2}
stop\+Dir   &✅    \\\cline{1-2}
transform   &✅   \\\cline{1-2}
\end{longtabu}
\hypertarget{md_node__modules_2lilconfig_2readme_autotoc_md18706}{}\doxysection{\texorpdfstring{Loaders examples}{Loaders examples}}\label{md_node__modules_2lilconfig_2readme_autotoc_md18706}
\hypertarget{md_node__modules_2lilconfig_2readme_autotoc_md18707}{}\doxysubsection{\texorpdfstring{Yaml loader}{Yaml loader}}\label{md_node__modules_2lilconfig_2readme_autotoc_md18707}
If you need the YAML support you can provide your own loader


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{lilconfig\}\ from\ 'lilconfig';}
\DoxyCodeLine{import\ yaml\ from\ 'yaml';}
\DoxyCodeLine{}
\DoxyCodeLine{function\ loadYaml(filepath,\ content)\ \{}
\DoxyCodeLine{\ \ \ \ return\ yaml.parse(content);}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{const\ options\ =\ \{}
\DoxyCodeLine{\ \ \ \ loaders:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ '.yaml':\ loadYaml,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ '.yml':\ loadYaml,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ //\ loader\ for\ files\ with\ no\ extension}
\DoxyCodeLine{\ \ \ \ \ \ \ \ noExt:\ loadYaml}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{lilconfig('myapp',\ options)}
\DoxyCodeLine{\ \ \ \ .search()}
\DoxyCodeLine{\ \ \ \ .then(result\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ result\ //\ \{config,\ filepath\}}
\DoxyCodeLine{\ \ \ \ \});}

\end{DoxyCode}
\hypertarget{md_node__modules_2lilconfig_2readme_autotoc_md18708}{}\doxysubsection{\texorpdfstring{ESM loader}{ESM loader}}\label{md_node__modules_2lilconfig_2readme_autotoc_md18708}
Lilconfig v2 does not support ESM modules out of the box. However, you can support it with a custom a loader. Note that this will only work with the async {\ttfamily lilconfig} function and won\textquotesingle{}t work with the sync {\ttfamily lilconfig\+Sync}.


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{lilconfig\}\ from\ 'lilconfig';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ loadEsm\ =\ filepath\ =>\ import(filepath);}
\DoxyCodeLine{}
\DoxyCodeLine{lilconfig('myapp',\ \{}
\DoxyCodeLine{\ \ \ \ loaders:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ '.js':\ loadEsm,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ '.mjs':\ loadEsm,}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\})}
\DoxyCodeLine{\ \ \ \ .search()}
\DoxyCodeLine{\ \ \ \ .then(result\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ result\ //\ \{config,\ filepath\}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ result.config.default\ //\ if\ config\ uses\ \`{}export\ default`}
\DoxyCodeLine{\ \ \ \ \});}

\end{DoxyCode}
\hypertarget{md_node__modules_2lilconfig_2readme_autotoc_md18709}{}\doxysection{\texorpdfstring{Version correlation}{Version correlation}}\label{md_node__modules_2lilconfig_2readme_autotoc_md18709}

\begin{DoxyItemize}
\item lilconig v1 → cosmiconfig v6
\item lilconig v2 → cosmiconfig v7 
\end{DoxyItemize}