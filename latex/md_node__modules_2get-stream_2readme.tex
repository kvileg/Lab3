\chapter{get-\/stream}
\hypertarget{md_node__modules_2get-stream_2readme}{}\label{md_node__modules_2get-stream_2readme}\index{get-\/stream@{get-\/stream}}
\label{md_node__modules_2get-stream_2readme_autotoc_md14443}%
\Hypertarget{md_node__modules_2get-stream_2readme_autotoc_md14443}%
 \begin{quote}
Get a stream as a string, buffer, or array \end{quote}
\hypertarget{md_node__modules_2get-stream_2readme_autotoc_md14444}{}\doxysection{\texorpdfstring{Install}{Install}}\label{md_node__modules_2get-stream_2readme_autotoc_md14444}

\begin{DoxyCode}{0}
\DoxyCodeLine{\$\ npm\ install\ get-\/stream}

\end{DoxyCode}
\hypertarget{md_node__modules_2get-stream_2readme_autotoc_md14445}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{md_node__modules_2get-stream_2readme_autotoc_md14445}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ fs\ =\ require('fs');}
\DoxyCodeLine{const\ getStream\ =\ require('get-\/stream');}
\DoxyCodeLine{}
\DoxyCodeLine{(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ const\ stream\ =\ fs.createReadStream('unicorn.txt');}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ console.log(await\ getStream(stream));}
\DoxyCodeLine{\ \ \ \ /*}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,,))))))));,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_)))))))))))))),}
\DoxyCodeLine{\ \ \ \ \(\backslash\)|/\ \ \ \ \ \ \ -\/\(\backslash\)(((((''''((((((((.}
\DoxyCodeLine{\ \ \ \ -\/*-\/==//////((''\ \ .\ \ \ \ \ \`{})))))),}
\DoxyCodeLine{\ \ \ \ /|\(\backslash\)\ \ \ \ \ \ ))|\ o\ \ \ \ ;-\/.\ \ \ \ '(((((\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,(,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ (\ \`{}|\ \ \ \ /\ \ )\ \ \ \ ;))))'\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,\_))\string^;(\string~}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |\ \ \ |\ \ \ |\ \ \ ,))((((\_\ \ \ \ \ \_\_\_\_\_-\/-\/-\/-\/-\/-\/\string~\string~\string~-\/.\ \ \ \ \ \ \ \ \%,;(;(>';'\string~}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ o\_);\ \ \ ;\ \ \ \ )))(((`\ \string~-\/-\/-\/\string~\ \ \`{}::\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)\ \ \ \ \ \ \%\%\string~\string~)(v;(`('\string~}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ;\ \ \ \ ''''````\ \ \ \ \ \ \ \ \ \`{}:\ \ \ \ \ \ \ \`{}:::|\(\backslash\),\_\_,\%\%\ \ \ \ );`';\ \string~}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |\ \ \ \_\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )\ \ \ \ \ /\ \ \ \ \ \ \`{}:|`-\/-\/-\/-\/'\ \ \ \ \ \`{}-\/'}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_\_\_\_\_/\(\backslash\)/\string~\ \ \ \ |\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ /\ \ \ \ \ \ \ \ /}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ /\string~;;.\_\_\_\_/;;'\ \ /\ \ \ \ \ \ \ \ \ \ \_\_\_-\/-\/,-\/(\ \ \ \`{};;;/}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ /\ //\ \ \_;\_\_\_\_\_\_;'-\/-\/-\/-\/-\/-\/\string~\string~\string~\string~\string~\ \ \ \ /;;/\(\backslash\)\ \ \ \ /}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ //\ \ |\ |\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ /\ ;\ \ \ \(\backslash\);;,\(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ (<\_\ \ |\ ;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ /',/-\/-\/-\/-\/-\/'\ \ \_>}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)\_|\ ||\_\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\string~;\string~\string~\string~\string~\string~\string~\string~\string~\string~}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \`{}\(\backslash\)\_|\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (,\string~\string~}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)\string~\(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \string~\string~}
\DoxyCodeLine{\ \ \ \ */}
\DoxyCodeLine{\})();}

\end{DoxyCode}
\hypertarget{md_node__modules_2get-stream_2readme_autotoc_md14446}{}\doxysection{\texorpdfstring{API}{API}}\label{md_node__modules_2get-stream_2readme_autotoc_md14446}
The methods returns a promise that resolves when the {\ttfamily end} event fires on the stream, indicating that there is no more data to be read. The stream is switched to flowing mode.\hypertarget{md_node__modules_2get-stream_2readme_autotoc_md14447}{}\doxysubsection{\texorpdfstring{get\+Stream(stream, options?)}{getStream(stream, options?)}}\label{md_node__modules_2get-stream_2readme_autotoc_md14447}
Get the {\ttfamily stream} as a string.\hypertarget{md_node__modules_2get-stream_2readme_autotoc_md14448}{}\doxysubsubsection{\texorpdfstring{options}{options}}\label{md_node__modules_2get-stream_2readme_autotoc_md14448}
Type\+: {\ttfamily object}\hypertarget{md_node__modules_2get-stream_2readme_autotoc_md14449}{}\doxyparagraph{\texorpdfstring{encoding}{encoding}}\label{md_node__modules_2get-stream_2readme_autotoc_md14449}
Type\+: {\ttfamily string}\textbackslash{} Default\+: `\textquotesingle{}utf8'\`{}

\href{https://nodejs.org/api/buffer.html\#buffer_buffer}{\texttt{ Encoding}} of the incoming stream.\hypertarget{md_node__modules_2get-stream_2readme_autotoc_md14450}{}\doxyparagraph{\texorpdfstring{max\+Buffer}{maxBuffer}}\label{md_node__modules_2get-stream_2readme_autotoc_md14450}
Type\+: {\ttfamily number}\textbackslash{} Default\+: {\ttfamily Infinity}

Maximum length of the returned string. If it exceeds this value before the stream ends, the promise will be rejected with a {\ttfamily get\+Stream.\+Max\+Buffer\+Error} error.\hypertarget{md_node__modules_2get-stream_2readme_autotoc_md14451}{}\doxysubsection{\texorpdfstring{get\+Stream.\+buffer(stream, options?)}{getStream.buffer(stream, options?)}}\label{md_node__modules_2get-stream_2readme_autotoc_md14451}
Get the {\ttfamily stream} as a buffer.

It honors the {\ttfamily max\+Buffer} option as above, but it refers to byte length rather than string length.\hypertarget{md_node__modules_2get-stream_2readme_autotoc_md14452}{}\doxysubsection{\texorpdfstring{get\+Stream.\+array(stream, options?)}{getStream.array(stream, options?)}}\label{md_node__modules_2get-stream_2readme_autotoc_md14452}
Get the {\ttfamily stream} as an array of values.

It honors both the {\ttfamily max\+Buffer} and {\ttfamily encoding} options. The behavior changes slightly based on the encoding chosen\+:


\begin{DoxyItemize}
\item When {\ttfamily encoding} is unset, it assumes an \href{https://nodesource.com/blog/understanding-object-streams/}{\texttt{ object mode stream}} and collects values emitted from {\ttfamily stream} unmodified. In this case {\ttfamily max\+Buffer} refers to the number of items in the array (not the sum of their sizes).
\item When {\ttfamily encoding} is set to {\ttfamily buffer}, it collects an array of buffers. {\ttfamily max\+Buffer} refers to the summed byte lengths of every buffer in the array.
\item When {\ttfamily encoding} is set to anything else, it collects an array of strings. {\ttfamily max\+Buffer} refers to the summed character lengths of every string in the array.
\end{DoxyItemize}\hypertarget{md_node__modules_2get-stream_2readme_autotoc_md14453}{}\doxysection{\texorpdfstring{Errors}{Errors}}\label{md_node__modules_2get-stream_2readme_autotoc_md14453}
If the input stream emits an {\ttfamily error} event, the promise will be rejected with the error. The buffered data will be attached to the {\ttfamily buffered\+Data} property of the error.


\begin{DoxyCode}{0}
\DoxyCodeLine{(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ try\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ await\ getStream(streamThatErrorsAtTheEnd('unicorn'));}
\DoxyCodeLine{\ \ \ \ \}\ catch\ (error)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ console.log(error.bufferedData);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ //=>\ 'unicorn'}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\})()}

\end{DoxyCode}
\hypertarget{md_node__modules_2get-stream_2readme_autotoc_md14454}{}\doxysection{\texorpdfstring{FAQ}{FAQ}}\label{md_node__modules_2get-stream_2readme_autotoc_md14454}
\hypertarget{md_node__modules_2get-stream_2readme_autotoc_md14455}{}\doxysubsection{\texorpdfstring{How is this different from $<$a href="{}https\+://github.\+com/maxogden/concat-\/stream"{} $>$$<$tt$>$concat-\/stream$<$/tt$>$$<$/a$>$?}{How is this different from <a href="https://github.com/maxogden/concat-stream" ><tt>concat-stream</tt></a>?}}\label{md_node__modules_2get-stream_2readme_autotoc_md14455}
This module accepts a stream instead of being one and returns a promise instead of using a callback. The API is simpler and it only supports returning a string, buffer, or array. It doesn\textquotesingle{}t have a fragile type inference. You explicitly choose what you want. And it doesn\textquotesingle{}t depend on the huge {\ttfamily readable-\/stream} package.\hypertarget{md_node__modules_2get-stream_2readme_autotoc_md14456}{}\doxysection{\texorpdfstring{Related}{Related}}\label{md_node__modules_2get-stream_2readme_autotoc_md14456}

\begin{DoxyItemize}
\item \href{https://github.com/sindresorhus/get-stdin}{\texttt{ get-\/stdin}} -\/ Get stdin as a string or buffer
\end{DoxyItemize}

\DoxyHorRuler{0}


 {\bfseries{ \href{https://tidelift.com/subscription/pkg/npm-get-stream?utm_source=npm-get-stream&utm_medium=referral&utm_campaign=readme}{\texttt{ Get professional support for this package with a Tidelift subscription}} }} ~\newline
 \textsubscript{ Tidelift helps make open source sustainable for maintainers while giving companies~\newline
assurances about security, maintenance, and licensing for their dependencies. }  