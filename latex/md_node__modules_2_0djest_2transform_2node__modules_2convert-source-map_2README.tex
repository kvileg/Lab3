\chapter{convert-\/source-\/map \texorpdfstring{$<$}{<}a href="{}https\+://github.\+com/thlorenz/convert-\/source-\/map/actions?query=workflow\+:ci"{} \texorpdfstring{$>$}{>}\texorpdfstring{$<$}{<}img src="{}https\+://img.\+shields.\+io/github/workflow/status/thlorenz/convert-\/source-\/map/\+CI?style=flat-\/square"{} alt="{}\+Build Status"{}/\texorpdfstring{$>$}{>}\texorpdfstring{$<$}{<}/a\texorpdfstring{$>$}{>}}
\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README}{}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README}\index{convert-\/source-\/map $<$a href="{}https://github.com/thlorenz/convert-\/source-\/map/actions?query=workflow:ci"{} $>$$<$img src="{}https://img.shields.io/github/workflow/status/thlorenz/convert-\/source-\/map/CI?style=flat-\/square"{} alt="{}Build Status"{}/$>$$<$/a$>$@{convert-\/source-\/map $<$a href=""https://github.com/thlorenz/convert-\/source-\/map/actions?query=workflow:ci"" $>$$<$img src=""https://img.shields.io/github/workflow/status/thlorenz/convert-\/source-\/map/CI?style=flat-\/square"" alt=""Build Status""/$>$$<$/a$>$}}
\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1672}%
\Hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1672}%
 Converts a source-\/map from/to different formats and allows adding/changing properties.


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ convert\ =\ require('convert-\/source-\/map');}
\DoxyCodeLine{}
\DoxyCodeLine{var\ json\ =\ convert}
\DoxyCodeLine{\ \ .fromComment('//\#\ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVpbGQvZm9vLm1pbi5qcyIsInNvdXJjZXMiOlsic3JjL2Zvby5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIvIn0=')}
\DoxyCodeLine{\ \ .toJSON();}
\DoxyCodeLine{}
\DoxyCodeLine{var\ modified\ =\ convert}
\DoxyCodeLine{\ \ .fromComment('//\#\ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVpbGQvZm9vLm1pbi5qcyIsInNvdXJjZXMiOlsic3JjL2Zvby5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIvIn0=')}
\DoxyCodeLine{\ \ .setProperty('sources',\ [\ 'SRC/FOO.JS'\ ])}
\DoxyCodeLine{\ \ .toJSON();}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(json);}
\DoxyCodeLine{console.log(modified);}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{\{"{}version"{}:3,"{}file"{}:"{}build/foo.min.js"{},"{}sources"{}:["{}src/foo.js"{}],"{}names"{}:[],"{}mappings"{}:"{}AAAA"{},"{}sourceRoot"{}:"{}/"{}\}}
\DoxyCodeLine{\{"{}version"{}:3,"{}file"{}:"{}build/foo.min.js"{},"{}sources"{}:["{}SRC/FOO.JS"{}],"{}names"{}:[],"{}mappings"{}:"{}AAAA"{},"{}sourceRoot"{}:"{}/"{}\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1673}{}\doxysection{\texorpdfstring{API}{API}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1673}
\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1674}{}\doxysubsection{\texorpdfstring{from\+Object(obj)}{fromObject(obj)}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1674}
Returns source map converter from given object.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1675}{}\doxysubsection{\texorpdfstring{from\+JSON(json)}{fromJSON(json)}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1675}
Returns source map converter from given json string.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1676}{}\doxysubsection{\texorpdfstring{from\+Base64(base64)}{fromBase64(base64)}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1676}
Returns source map converter from given base64 encoded json string.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1677}{}\doxysubsection{\texorpdfstring{from\+Comment(comment)}{fromComment(comment)}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1677}
Returns source map converter from given base64 encoded json string prefixed with {\ttfamily //\# source\+Mapping\+URL=...}.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1678}{}\doxysubsection{\texorpdfstring{from\+Map\+File\+Comment(comment, map\+File\+Dir)}{fromMapFileComment(comment, mapFileDir)}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1678}
Returns source map converter from given {\ttfamily filename} by parsing {\ttfamily //\# source\+Mapping\+URL=filename}.

{\ttfamily filename} must point to a file that is found inside the {\ttfamily map\+File\+Dir}. Most tools store this file right next to the generated file, i.\+e. the one containing the source map.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1679}{}\doxysubsection{\texorpdfstring{from\+Source(source)}{fromSource(source)}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1679}
Finds last sourcemap comment in file and returns source map converter or returns null if no source map comment was found.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1680}{}\doxysubsection{\texorpdfstring{from\+Map\+File\+Source(source, map\+File\+Dir)}{fromMapFileSource(source, mapFileDir)}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1680}
Finds last sourcemap comment in file and returns source map converter or returns null if no source map comment was found.

The sourcemap will be read from the map file found by parsing {\ttfamily \# source\+Mapping\+URL=file} comment. For more info see from\+Map\+File\+Comment.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1681}{}\doxysubsection{\texorpdfstring{to\+Object()}{toObject()}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1681}
Returns a copy of the underlying source map.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1682}{}\doxysubsection{\texorpdfstring{to\+JSON(\mbox{[}space\mbox{]})}{toJSON([space])}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1682}
Converts source map to json string. If {\ttfamily space} is given (optional), this will be passed to \href{https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/JSON/stringify}{\texttt{ JSON.\+stringify}} when the JSON string is generated.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1683}{}\doxysubsection{\texorpdfstring{to\+Base64()}{toBase64()}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1683}
Converts source map to base64 encoded json string.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1684}{}\doxysubsection{\texorpdfstring{to\+Comment(\mbox{[}options\mbox{]})}{toComment([options])}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1684}
Converts source map to an inline comment that can be appended to the source-\/file.

By default, the comment is formatted like\+: {\ttfamily //\# source\+Mapping\+URL=...}, which you would normally see in a JS source file.

When {\ttfamily options.\+multiline == true}, the comment is formatted like\+: {\ttfamily /\texorpdfstring{$\ast$}{*}\# source\+Mapping\+URL=... \texorpdfstring{$\ast$}{*}/}, which you would find in a CSS source file.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1685}{}\doxysubsection{\texorpdfstring{add\+Property(key, value)}{addProperty(key, value)}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1685}
Adds given property to the source map. Throws an error if property already exists.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1686}{}\doxysubsection{\texorpdfstring{set\+Property(key, value)}{setProperty(key, value)}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1686}
Sets given property to the source map. If property doesn\textquotesingle{}t exist it is added, otherwise its value is updated.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1687}{}\doxysubsection{\texorpdfstring{get\+Property(key)}{getProperty(key)}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1687}
Gets given property of the source map.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1688}{}\doxysubsection{\texorpdfstring{remove\+Comments(src)}{removeComments(src)}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1688}
Returns {\ttfamily src} with all source map comments removed\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1689}{}\doxysubsection{\texorpdfstring{remove\+Map\+File\+Comments(src)}{removeMapFileComments(src)}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1689}
Returns {\ttfamily src} with all source map comments pointing to map files removed.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1690}{}\doxysubsection{\texorpdfstring{comment\+Regex}{commentRegex}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1690}
Provides {\bfseries{a fresh}} Reg\+Exp each time it is accessed. Can be used to find source map comments.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1691}{}\doxysubsection{\texorpdfstring{map\+File\+Comment\+Regex}{mapFileCommentRegex}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1691}
Provides {\bfseries{a fresh}} Reg\+Exp each time it is accessed. Can be used to find source map comments pointing to map files.\hypertarget{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1692}{}\doxysubsection{\texorpdfstring{generate\+Map\+File\+Comment(file, \mbox{[}options\mbox{]})}{generateMapFileComment(file, [options])}}\label{md_node__modules_2_0djest_2transform_2node__modules_2convert-source-map_2README_autotoc_md1692}
Returns a comment that links to an external source map via {\ttfamily file}.

By default, the comment is formatted like\+: {\ttfamily //\# source\+Mapping\+URL=...}, which you would normally see in a JS source file.

When {\ttfamily options.\+multiline == true}, the comment is formatted like\+: {\ttfamily /\texorpdfstring{$\ast$}{*}\# source\+Mapping\+URL=... \texorpdfstring{$\ast$}{*}/}, which you would find in a CSS source file. 