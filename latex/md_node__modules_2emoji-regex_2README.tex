\chapter{emoji-\/regex \texorpdfstring{$<$}{<}a href="{}https\+://travis-\/ci.\+org/mathiasbynens/emoji-\/regex"{} \texorpdfstring{$>$}{>}\texorpdfstring{$<$}{<}img src="{}https\+://travis-\/ci.\+org/mathiasbynens/emoji-\/regex.\+svg?branch=main"{} alt="{}\+Build status"{}/\texorpdfstring{$>$}{>}\texorpdfstring{$<$}{<}/a\texorpdfstring{$>$}{>}}
\hypertarget{md_node__modules_2emoji-regex_2README}{}\label{md_node__modules_2emoji-regex_2README}\index{emoji-\/regex $<$a href="{}https://travis-\/ci.org/mathiasbynens/emoji-\/regex"{} $>$$<$img src="{}https://travis-\/ci.org/mathiasbynens/emoji-\/regex.svg?branch=main"{} alt="{}Build status"{}/$>$$<$/a$>$@{emoji-\/regex $<$a href=""https://travis-\/ci.org/mathiasbynens/emoji-\/regex"" $>$$<$img src=""https://travis-\/ci.org/mathiasbynens/emoji-\/regex.svg?branch=main"" alt=""Build status""/$>$$<$/a$>$}}
\label{md_node__modules_2emoji-regex_2README_autotoc_md9841}%
\Hypertarget{md_node__modules_2emoji-regex_2README_autotoc_md9841}%
 {\itshape emoji-\/regex} offers a regular expression to match all emoji symbols and sequences (including textual representations of emoji) as per the Unicode Standard.

This repository contains a script that generates this regular expression based on \href{https://github.com/node-unicode/node-unicode-data}{\texttt{ Unicode data}}. Because of this, the regular expression can easily be updated whenever new emoji are added to the Unicode standard.\hypertarget{md_node__modules_2emoji-regex_2README_autotoc_md9842}{}\doxysection{\texorpdfstring{Installation}{Installation}}\label{md_node__modules_2emoji-regex_2README_autotoc_md9842}
Via \href{https://www.npmjs.com/}{\texttt{ npm}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ emoji-\/regex}

\end{DoxyCode}


In \href{https://nodejs.org/}{\texttt{ Node.\+js}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ emojiRegex\ =\ require('emoji-\/regex/RGI\_Emoji.js');}
\DoxyCodeLine{//\ Note:\ because\ the\ regular\ expression\ has\ the\ global\ flag\ set,\ this\ module}
\DoxyCodeLine{//\ exports\ a\ function\ that\ returns\ the\ regex\ rather\ than\ exporting\ the\ regular}
\DoxyCodeLine{//\ expression\ itself,\ to\ make\ it\ impossible\ to\ (accidentally)\ mutate\ the}
\DoxyCodeLine{//\ original\ regular\ expression.}
\DoxyCodeLine{}
\DoxyCodeLine{const\ text\ =\ \`{}}
\DoxyCodeLine{\(\backslash\)u\{231A\}:\ ⌚\ default\ emoji\ presentation\ character\ (Emoji\_Presentation)}
\DoxyCodeLine{\(\backslash\)u\{2194\}\(\backslash\)u\{FE0F\}:\ ↔️\ default\ text\ presentation\ character\ rendered\ as\ emoji}
\DoxyCodeLine{\(\backslash\)u\{1F469\}:\ 👩\ emoji\ modifier\ base\ (Emoji\_Modifier\_Base)}
\DoxyCodeLine{\(\backslash\)u\{1F469\}\(\backslash\)u\{1F3FF\}:\ 👩🏿\ emoji\ modifier\ base\ followed\ by\ a\ modifier}
\DoxyCodeLine{\`{};}
\DoxyCodeLine{}
\DoxyCodeLine{const\ regex\ =\ emojiRegex();}
\DoxyCodeLine{let\ match;}
\DoxyCodeLine{while\ (match\ =\ regex.exec(text))\ \{}
\DoxyCodeLine{\ \ const\ emoji\ =\ match[0];}
\DoxyCodeLine{\ \ console.log(`Matched\ sequence\ \$\{\ emoji\ \}\ —\ code\ points:\ \$\{\ [...emoji].length\ \}`);}
\DoxyCodeLine{\}}

\end{DoxyCode}


Console output\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{Matched\ sequence\ ⌚\ —\ code\ points:\ 1}
\DoxyCodeLine{Matched\ sequence\ ⌚\ —\ code\ points:\ 1}
\DoxyCodeLine{Matched\ sequence\ ↔️\ —\ code\ points:\ 2}
\DoxyCodeLine{Matched\ sequence\ ↔️\ —\ code\ points:\ 2}
\DoxyCodeLine{Matched\ sequence\ 👩\ —\ code\ points:\ 1}
\DoxyCodeLine{Matched\ sequence\ 👩\ —\ code\ points:\ 1}
\DoxyCodeLine{Matched\ sequence\ 👩🏿\ —\ code\ points:\ 2}
\DoxyCodeLine{Matched\ sequence\ 👩🏿\ —\ code\ points:\ 2}

\end{DoxyCode}
\hypertarget{md_node__modules_2emoji-regex_2README_autotoc_md9843}{}\doxysection{\texorpdfstring{Regular expression flavors}{Regular expression flavors}}\label{md_node__modules_2emoji-regex_2README_autotoc_md9843}
The package comes with three distinct regular expressions\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ This\ is\ the\ recommended\ regular\ expression\ to\ use.\ It\ matches\ all}
\DoxyCodeLine{//\ emoji\ recommended\ for\ general\ interchange,\ as\ defined\ via\ the}
\DoxyCodeLine{//\ \`{}RGI\_Emoji`\ property\ in\ the\ Unicode\ Standard.}
\DoxyCodeLine{//\ https://unicode.org/reports/tr51/\#def\_rgi\_set}
\DoxyCodeLine{//\ When\ in\ doubt,\ use\ this!}
\DoxyCodeLine{const\ emojiRegexRGI\ =\ require('emoji-\/regex/RGI\_Emoji.js');}
\DoxyCodeLine{}
\DoxyCodeLine{//\ This\ is\ the\ old\ regular\ expression,\ prior\ to\ \`{}RGI\_Emoji`\ being}
\DoxyCodeLine{//\ standardized.\ In\ addition\ to\ all\ \`{}RGI\_Emoji`\ sequences,\ it\ matches}
\DoxyCodeLine{//\ some\ emoji\ you\ probably\ don’t\ want\ to\ match\ (such\ as\ emoji\ component}
\DoxyCodeLine{//\ symbols\ that\ are\ not\ meant\ to\ be\ used\ separately).}
\DoxyCodeLine{const\ emojiRegex\ =\ require('emoji-\/regex/index.js');}
\DoxyCodeLine{}
\DoxyCodeLine{//\ This\ regular\ expression\ matches\ even\ more\ emoji\ than\ the\ previous}
\DoxyCodeLine{//\ one,\ including\ emoji\ that\ render\ as\ text\ instead\ of\ icons\ (i.e.}
\DoxyCodeLine{//\ emoji\ that\ are\ not\ \`{}Emoji\_Presentation`\ symbols\ and\ that\ aren’t}
\DoxyCodeLine{//\ forced\ to\ render\ as\ emoji\ by\ a\ variation\ selector).}
\DoxyCodeLine{const\ emojiRegexText\ =\ require('emoji-\/regex/text.js');}

\end{DoxyCode}


Additionally, in environments which support ES2015 Unicode escapes, you may {\ttfamily require} ES2015-\/style versions of the regexes\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ emojiRegexRGI\ =\ require('emoji-\/regex/es2015/RGI\_Emoji.js');}
\DoxyCodeLine{const\ emojiRegex\ =\ require('emoji-\/regex/es2015/index.js');}
\DoxyCodeLine{const\ emojiRegexText\ =\ require('emoji-\/regex/es2015/text.js');}

\end{DoxyCode}
\hypertarget{md_node__modules_2emoji-regex_2README_autotoc_md9844}{}\doxysection{\texorpdfstring{For maintainers}{For maintainers}}\label{md_node__modules_2emoji-regex_2README_autotoc_md9844}
\hypertarget{md_node__modules_2emoji-regex_2README_autotoc_md9845}{}\doxysubsection{\texorpdfstring{How to update emoji-\/regex after new Unicode Standard releases}{How to update emoji-regex after new Unicode Standard releases}}\label{md_node__modules_2emoji-regex_2README_autotoc_md9845}

\begin{DoxyEnumerate}
\item Update the Unicode data dependency in {\ttfamily package.\+json} by running the following commands\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ \#\ Example:\ updating\ from\ Unicode\ v12\ to\ Unicode\ v13.}
\DoxyCodeLine{\ \ \ \ npm\ uninstall\ @unicode/unicode-\/12.0.0}
\DoxyCodeLine{\ \ \ \ npm\ install\ @unicode/unicode-\/13.0.0\ -\/-\/save-\/dev}
\DoxyCodeLine{\ \ \ \ \`{}\`{}\`{}\`{}}
\DoxyCodeLine{}
\DoxyCodeLine{1.\ Generate\ the\ new\ output:}

\end{DoxyCode}
 sh npm run build 
\begin{DoxyCode}{0}
\DoxyCodeLine{1.\ Verify\ that\ tests\ still\ pass:}

\end{DoxyCode}
 sh npm test \`{}\`{}\`{}
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item Send a pull request with the changes, and get it reviewed \& merged.
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item On the {\ttfamily main} branch, bump the emoji-\/regex version number in {\ttfamily package.\+json}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ version\ patch\ -\/m\ 'Release\ v\%s'}

\end{DoxyCode}


Instead of {\ttfamily patch}, use {\ttfamily minor} or {\ttfamily major} \href{https://semver.org/}{\texttt{ as needed}}.

Note that this produces a Git commit + tag.
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item Push the release commit and tag\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{git\ push}

\end{DoxyCode}


Our CI then automatically publishes the new release to npm.
\end{DoxyEnumerate}\hypertarget{md_node__modules_2emoji-regex_2README_autotoc_md9846}{}\doxysection{\texorpdfstring{Author}{Author}}\label{md_node__modules_2emoji-regex_2README_autotoc_md9846}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{1}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ \href{https://twitter.com/mathias}{\texttt{ }}    }\\\cline{1-1}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ \href{https://twitter.com/mathias}{\texttt{ }}    }\\\cline{1-1}
\endhead
\href{https://mathiasbynens.be/}{\texttt{ Mathias Bynens}}   \\\cline{1-1}
\end{longtabu}
\hypertarget{md_node__modules_2emoji-regex_2README_autotoc_md9847}{}\doxysection{\texorpdfstring{License}{License}}\label{md_node__modules_2emoji-regex_2README_autotoc_md9847}
{\itshape emoji-\/regex} is available under the \href{https://mths.be/mit}{\texttt{ MIT}} license. 