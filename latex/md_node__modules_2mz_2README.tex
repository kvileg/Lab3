\chapter{MZ -\/ Modernize node.\+js}
\hypertarget{md_node__modules_2mz_2README}{}\label{md_node__modules_2mz_2README}\index{MZ -\/ Modernize node.js@{MZ -\/ Modernize node.js}}
\label{md_node__modules_2mz_2README_autotoc_md19432}%
\Hypertarget{md_node__modules_2mz_2README_autotoc_md19432}%
 \href{https://npmjs.org/package/mz}{\texttt{ }} \href{https://travis-ci.org/normalize/mz}{\texttt{ }} \href{https://coveralls.io/r/normalize/mz?branch=master}{\texttt{ }} \href{https://david-dm.org/normalize/mz}{\texttt{ }} \mbox{[}\mbox{]}\mbox{[}license-\/url\mbox{]} \href{https://npmjs.org/package/mz}{\texttt{ }}

Modernize node.\+js to current ECMAScript specifications! node.\+js will not update their API to ES6+ \href{https://github.com/joyent/node/issues/7549}{\texttt{ for a while}}. This library is a wrapper for various aspects of node.\+js\textquotesingle{} API.\hypertarget{md_node__modules_2mz_2README_autotoc_md19433}{}\doxysection{\texorpdfstring{Installation and Usage}{Installation and Usage}}\label{md_node__modules_2mz_2README_autotoc_md19433}
Set {\ttfamily mz} as a dependency and install it.


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ i\ mz}

\end{DoxyCode}


Then prefix the relevant {\ttfamily require()}s with {\ttfamily mz/}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ fs\ =\ require('mz/fs')}
\DoxyCodeLine{}
\DoxyCodeLine{fs.exists(\_\_filename).then(function\ (exists)\ \{}
\DoxyCodeLine{\ \ if\ (exists)\ //\ do\ something}
\DoxyCodeLine{\})}

\end{DoxyCode}


With ES2017, this will allow you to use async functions cleanly with node\textquotesingle{}s core API\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ fs\ =\ require('mz/fs')}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{async\ function\ doSomething\ ()\ \{}
\DoxyCodeLine{\ \ if\ (await\ fs.exists(\_\_filename))\ //\ do\ something}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2mz_2README_autotoc_md19434}{}\doxysection{\texorpdfstring{Promisification}{Promisification}}\label{md_node__modules_2mz_2README_autotoc_md19434}
Many node methods are converted into promises. Any properties that are deprecated or aren\textquotesingle{}t asynchronous will simply be proxied. The modules wrapped are\+:


\begin{DoxyItemize}
\item {\ttfamily child\+\_\+process}
\item {\ttfamily crypto}
\item {\ttfamily dns}
\item {\ttfamily fs} (uses {\ttfamily graceful-\/fs} if available)
\item {\ttfamily readline}
\item {\ttfamily zlib}
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ exec\ =\ require('mz/child\_process').exec}
\DoxyCodeLine{}
\DoxyCodeLine{exec('node\ -\/-\/version').then(function\ (stdout)\ \{}
\DoxyCodeLine{\ \ console.log(stdout)}
\DoxyCodeLine{\})}

\end{DoxyCode}
\hypertarget{md_node__modules_2mz_2README_autotoc_md19435}{}\doxysection{\texorpdfstring{Promise Engine}{Promise Engine}}\label{md_node__modules_2mz_2README_autotoc_md19435}
{\ttfamily mz} uses \href{https://github.com/kevinbeaty/any-promise}{\texttt{ {\ttfamily any-\/promise}}}.\hypertarget{md_node__modules_2mz_2README_autotoc_md19436}{}\doxysection{\texorpdfstring{FAQ}{FAQ}}\label{md_node__modules_2mz_2README_autotoc_md19436}
\hypertarget{md_node__modules_2mz_2README_autotoc_md19437}{}\doxysubsection{\texorpdfstring{Can I use this in production?}{Can I use this in production?}}\label{md_node__modules_2mz_2README_autotoc_md19437}
Yes, Node 4.\+x ships with stable promises support. For older engines, you should probably install your own promise implementation and register it with `require(\textquotesingle{}any-\/promise/register')(\textquotesingle{}bluebird\textquotesingle{})\`{}.\hypertarget{md_node__modules_2mz_2README_autotoc_md19438}{}\doxysubsection{\texorpdfstring{Will this make my app faster?}{Will this make my app faster?}}\label{md_node__modules_2mz_2README_autotoc_md19438}
Nope, probably slower actually.\hypertarget{md_node__modules_2mz_2README_autotoc_md19439}{}\doxysubsection{\texorpdfstring{Can I add more features?}{Can I add more features?}}\label{md_node__modules_2mz_2README_autotoc_md19439}
Sure. Open an issue.

Currently, the plans are to eventually support\+:


\begin{DoxyItemize}
\item New APIs in node.\+js that are not available in older versions of node
\item ECMAScript7 Streams 
\end{DoxyItemize}