\chapter{Require test cases and hooks to be inside a \texorpdfstring{$<$}{<}tt\texorpdfstring{$>$}{>}describe\texorpdfstring{$<$}{<}/tt\texorpdfstring{$>$}{>} block (\texorpdfstring{$<$}{<}tt\texorpdfstring{$>$}{>}require-\/top-\/level-\/describe\texorpdfstring{$<$}{<}/tt\texorpdfstring{$>$}{>})}
\hypertarget{md_node__modules_2eslint-plugin-jest_2docs_2rules_2require-top-level-describe}{}\label{md_node__modules_2eslint-plugin-jest_2docs_2rules_2require-top-level-describe}\index{Require test cases and hooks to be inside a $<$tt$>$describe$<$/tt$>$ block ($<$tt$>$require-\/top-\/level-\/describe$<$/tt$>$)@{Require test cases and hooks to be inside a $<$tt$>$describe$<$/tt$>$ block ($<$tt$>$require-\/top-\/level-\/describe$<$/tt$>$)}}
\label{md_node__modules_2eslint-plugin-jest_2docs_2rules_2require-top-level-describe_autotoc_md11481}%
\Hypertarget{md_node__modules_2eslint-plugin-jest_2docs_2rules_2require-top-level-describe_autotoc_md11481}%
 Jest allows you to organise your test files the way you want it. However, the more your codebase grows, the more it becomes hard to navigate in your test files. This rule makes sure you provide at least a top-\/level {\ttfamily describe} block in your test file.\hypertarget{md_node__modules_2eslint-plugin-jest_2docs_2rules_2require-top-level-describe_autotoc_md11482}{}\doxysection{\texorpdfstring{Rule Details}{Rule Details}}\label{md_node__modules_2eslint-plugin-jest_2docs_2rules_2require-top-level-describe_autotoc_md11482}
This rule triggers a warning if a test case ({\ttfamily test} and {\ttfamily it}) or a hook ({\ttfamily before\+All}, {\ttfamily before\+Each}, {\ttfamily after\+Each}, {\ttfamily after\+All}) is not located in a top-\/level {\ttfamily describe} block.

The following patterns are considered warnings\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ Above\ a\ describe\ block}
\DoxyCodeLine{test('my\ test',\ ()\ =>\ \{\});}
\DoxyCodeLine{describe('test\ suite',\ ()\ =>\ \{}
\DoxyCodeLine{\ \ it('test',\ ()\ =>\ \{\});}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Below\ a\ describe\ block}
\DoxyCodeLine{describe('test\ suite',\ ()\ =>\ \{\});}
\DoxyCodeLine{test('my\ test',\ ()\ =>\ \{\});}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Same\ for\ hooks}
\DoxyCodeLine{beforeAll('my\ beforeAll',\ ()\ =>\ \{\});}
\DoxyCodeLine{describe('test\ suite',\ ()\ =>\ \{\});}
\DoxyCodeLine{afterEach('my\ afterEach',\ ()\ =>\ \{\});}

\end{DoxyCode}


The following patterns are {\bfseries{not}} considered warnings\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ In\ a\ describe\ block}
\DoxyCodeLine{describe('test\ suite',\ ()\ =>\ \{}
\DoxyCodeLine{\ \ test('my\ test',\ ()\ =>\ \{\});}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{//\ In\ a\ nested\ describe\ block}
\DoxyCodeLine{describe('test\ suite',\ ()\ =>\ \{}
\DoxyCodeLine{\ \ test('my\ test',\ ()\ =>\ \{\});}
\DoxyCodeLine{\ \ describe('another\ test\ suite',\ ()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ test('my\ other\ test',\ ()\ =>\ \{\});}
\DoxyCodeLine{\ \ \});}
\DoxyCodeLine{\});}

\end{DoxyCode}


You can also enforce a limit on the number of describes allowed at the top-\/level using the {\ttfamily max\+Number\+Of\+Top\+Level\+Describes} option\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ "{}jest/require-\/top-\/level-\/describe"{}:\ [}
\DoxyCodeLine{\ \ \ \ "{}error"{},}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ "{}maxNumberOfTopLevelDescribes"{}:\ 2}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ ]}
\DoxyCodeLine{\}}

\end{DoxyCode}


Examples of {\bfseries{incorrect}} code with the above config\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{describe('test\ suite',\ ()\ =>\ \{}
\DoxyCodeLine{\ \ it('test',\ ()\ =>\ \{\});}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{describe('test\ suite',\ ()\ =>\ \{\});}
\DoxyCodeLine{}
\DoxyCodeLine{describe('test\ suite',\ ()\ =>\ \{\});}

\end{DoxyCode}


This option defaults to {\ttfamily Infinity}, allowing any number of top-\/level describes.\hypertarget{md_node__modules_2eslint-plugin-jest_2docs_2rules_2require-top-level-describe_autotoc_md11483}{}\doxysection{\texorpdfstring{When Not To Use It}{When Not To Use It}}\label{md_node__modules_2eslint-plugin-jest_2docs_2rules_2require-top-level-describe_autotoc_md11483}
Don\textquotesingle{}t use this rule on non-\/jest test files. 