\chapter{ajv-\/formats}
\hypertarget{md_node__modules_2ajv-formats_2README}{}\label{md_node__modules_2ajv-formats_2README}\index{ajv-\/formats@{ajv-\/formats}}
\label{md_node__modules_2ajv-formats_2README_autotoc_md5469}%
\Hypertarget{md_node__modules_2ajv-formats_2README_autotoc_md5469}%
 JSON Schema formats for Ajv

\href{https://travis-ci.org/ajv-validator/ajv-formats}{\texttt{ }} \href{https://www.npmjs.com/package/ajv-formats}{\texttt{ }} \href{https://gitter.im/ajv-validator/ajv}{\texttt{ }} \href{https://github.com/sponsors/epoberezkin}{\texttt{ }}\hypertarget{md_node__modules_2ajv-formats_2README_autotoc_md5470}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{md_node__modules_2ajv-formats_2README_autotoc_md5470}

\begin{DoxyCode}{0}
\DoxyCodeLine{//\ ESM/TypeScript\ import}
\DoxyCodeLine{import\ Ajv\ from\ "{}ajv"{}}
\DoxyCodeLine{import\ addFormats\ from\ "{}ajv-\/formats"{}}
\DoxyCodeLine{//\ Node.js\ require:}
\DoxyCodeLine{const\ Ajv\ =\ require("{}ajv"{})}
\DoxyCodeLine{const\ addFormats\ =\ require("{}ajv-\/formats"{})}
\DoxyCodeLine{}
\DoxyCodeLine{const\ ajv\ =\ new\ Ajv()}
\DoxyCodeLine{addFormats(ajv)}

\end{DoxyCode}
\hypertarget{md_node__modules_2ajv-formats_2README_autotoc_md5471}{}\doxysection{\texorpdfstring{Formats}{Formats}}\label{md_node__modules_2ajv-formats_2README_autotoc_md5471}
The package defines these formats\+:


\begin{DoxyItemize}
\item {\itshape date}\+: full-\/date according to \href{http://tools.ietf.org/html/rfc3339\#section-5.6}{\texttt{ RFC3339}}.
\item {\itshape time}\+: time with optional time-\/zone.
\item {\itshape date-\/time}\+: date-\/time from the same source (time-\/zone is mandatory).
\item {\itshape duration}\+: duration from \href{https://tools.ietf.org/html/rfc3339\#appendix-A}{\texttt{ RFC3339}}
\item {\itshape uri}\+: full URI.
\item {\itshape uri-\/reference}\+: URI reference, including full and relative URIs.
\item {\itshape uri-\/template}\+: URI template according to \href{https://tools.ietf.org/html/rfc6570}{\texttt{ RFC6570}}
\item {\itshape url} (deprecated)\+: \href{https://url.spec.whatwg.org/\#concept-url}{\texttt{ URL record}}.
\item {\itshape email}\+: email address.
\item {\itshape hostname}\+: host name according to \href{http://tools.ietf.org/html/rfc1034\#section-3.5}{\texttt{ RFC1034}}.
\item {\itshape ipv4}\+: IP address v4.
\item {\itshape ipv6}\+: IP address v6.
\item {\itshape regex}\+: tests whether a string is a valid regular expression by passing it to Reg\+Exp constructor.
\item {\itshape uuid}\+: Universally Unique IDentifier according to \href{http://tools.ietf.org/html/rfc4122}{\texttt{ RFC4122}}.
\item {\itshape json-\/pointer}\+: JSON-\/pointer according to \href{https://tools.ietf.org/html/rfc6901}{\texttt{ RFC6901}}.
\item {\itshape relative-\/json-\/pointer}\+: relative JSON-\/pointer according to \href{http://tools.ietf.org/html/draft-luff-relative-json-pointer-00}{\texttt{ this draft}}.
\item {\itshape byte}\+: base64 encoded data according to the \href{https://spec.openapis.org/oas/v3.0.0\#data-types}{\texttt{ open\+Api 3.\+0.\+0 specification}}
\item {\itshape int32}\+: signed 32 bits integer according to the \href{https://spec.openapis.org/oas/v3.0.0\#data-types}{\texttt{ open\+Api 3.\+0.\+0 specification}}
\item {\itshape int64}\+: signed 64 bits according to the \href{https://spec.openapis.org/oas/v3.0.0\#data-types}{\texttt{ open\+Api 3.\+0.\+0 specification}}
\item {\itshape float}\+: float according to the \href{https://spec.openapis.org/oas/v3.0.0\#data-types}{\texttt{ open\+Api 3.\+0.\+0 specification}}
\item {\itshape double}\+: double according to the \href{https://spec.openapis.org/oas/v3.0.0\#data-types}{\texttt{ open\+Api 3.\+0.\+0 specification}}
\item {\itshape password}\+: password string according to the \href{https://spec.openapis.org/oas/v3.0.0\#data-types}{\texttt{ open\+Api 3.\+0.\+0 specification}}
\item {\itshape binary}\+: binary string according to the \href{https://spec.openapis.org/oas/v3.0.0\#data-types}{\texttt{ open\+Api 3.\+0.\+0 specification}}
\end{DoxyItemize}

See regular expressions used for format validation and the sources that were used in \href{https://github.com/ajv-validator/ajv-formats/blob/master/src/formats.ts}{\texttt{ formats.\+ts}}.

{\bfseries{Please note}}\+: JSON Schema draft-\/07 also defines formats {\ttfamily iri}, {\ttfamily iri-\/reference}, {\ttfamily idn-\/hostname} and {\ttfamily idn-\/email} for URLs, hostnames and emails with international characters. These formats are available in \href{https://github.com/luzlab/ajv-formats-draft2019}{\texttt{ ajv-\/formats-\/draft2019}} plugin.\hypertarget{md_node__modules_2ajv-formats_2README_autotoc_md5472}{}\doxysection{\texorpdfstring{Keywords to compare values\+: $<$tt$>$format\+Maximum$<$/tt$>$ / $<$tt$>$format\+Minimum$<$/tt$>$ and $<$tt$>$format\+Exclusive\+Maximum$<$/tt$>$ / $<$tt$>$format\+Exclusive\+Minimum$<$/tt$>$}{Keywords to compare values: <tt>formatMaximum</tt> / <tt>formatMinimum</tt> and <tt>formatExclusiveMaximum</tt> / <tt>formatExclusiveMinimum</tt>}}\label{md_node__modules_2ajv-formats_2README_autotoc_md5472}
These keywords allow to define minimum/maximum constraints when the format keyword defines ordering ({\ttfamily compare} function in format definition).

These keywords are added to ajv instance when ajv-\/formats is used without options or with option {\ttfamily keywords\+: true}.

These keywords apply only to strings. If the data is not a string, the validation succeeds.

The value of keywords {\ttfamily format\+Maximum}/{\ttfamily format\+Minimum} and {\ttfamily format\+Exclusive\+Maximum}/{\ttfamily format\+Exclusive\+Minimum} should be a string or \href{https://github.com/ajv-validator/ajv/blob/master/docs/validation.md\#data-reference}{\texttt{ \$data reference}}. This value is the maximum (minimum) allowed value for the data to be valid as determined by {\ttfamily format} keyword. If {\ttfamily format} keyword is not present schema compilation will throw exception.

When these keyword are added, they also add comparison functions to formats {\ttfamily "{}date"{}}, {\ttfamily "{}time"{}} and {\ttfamily "{}date-\/time"{}}. User-\/defined formats also can have comparison functions. See \href{https://github.com/ajv-validator/ajv/blob/master/docs/api.md\#api-addformat}{\texttt{ add\+Format}} method.


\begin{DoxyCode}{0}
\DoxyCodeLine{require("{}ajv-\/formats"{})(ajv)}
\DoxyCodeLine{}
\DoxyCodeLine{const\ schema\ =\ \{}
\DoxyCodeLine{\ \ type:\ "{}string"{},}
\DoxyCodeLine{\ \ format:\ "{}date"{},}
\DoxyCodeLine{\ \ formatMinimum:\ "{}2016-\/02-\/06"{},}
\DoxyCodeLine{\ \ formatExclusiveMaximum:\ "{}2016-\/12-\/27"{},}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{const\ validDataList\ =\ ["{}2016-\/02-\/06"{},\ "{}2016-\/12-\/26"{}]}
\DoxyCodeLine{}
\DoxyCodeLine{const\ invalidDataList\ =\ ["{}2016-\/02-\/05"{},\ "{}2016-\/12-\/27"{},\ "{}abc"{}]}

\end{DoxyCode}
\hypertarget{md_node__modules_2ajv-formats_2README_autotoc_md5473}{}\doxysection{\texorpdfstring{Options}{Options}}\label{md_node__modules_2ajv-formats_2README_autotoc_md5473}
Options can be passed via the second parameter. Options value can be


\begin{DoxyEnumerate}
\item The list of format names that will be added to ajv instance\+:
\end{DoxyEnumerate}


\begin{DoxyCode}{0}
\DoxyCodeLine{addFormats(ajv,\ ["{}date"{},\ "{}time"{}])}

\end{DoxyCode}


{\bfseries{Please note}}\+: when ajv encounters an undefined format it throws exception (unless ajv instance was configured with {\ttfamily strict\+: false} option). To allow specific undefined formats they have to be passed to ajv instance via {\ttfamily formats} option with {\ttfamily true} value\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ ajv\ =\ new\ Ajv((formats:\ \{date:\ true,\ time:\ true\}))\ //\ to\ ignore\ "{}date"{}\ and\ "{}time"{}\ formats\ in\ schemas.}

\end{DoxyCode}



\begin{DoxyEnumerate}
\item Format validation mode (default is {\ttfamily "{}full"{}}) with optional list of format names and {\ttfamily keywords} option to add additional format comparison keywords\+:
\end{DoxyEnumerate}


\begin{DoxyCode}{0}
\DoxyCodeLine{addFormats(ajv,\ \{mode:\ "{}fast"{}\})}

\end{DoxyCode}


or


\begin{DoxyCode}{0}
\DoxyCodeLine{addFormats(ajv,\ \{mode:\ "{}fast"{},\ formats:\ ["{}date"{},\ "{}time"{}],\ keywords:\ true\})}

\end{DoxyCode}


In {\ttfamily "{}fast"{}} mode the following formats are simplified\+: {\ttfamily "{}date"{}}, {\ttfamily "{}time"{}}, {\ttfamily "{}date-\/time"{}}, {\ttfamily "{}uri"{}}, {\ttfamily "{}uri-\/reference"{}}, {\ttfamily "{}email"{}}. For example {\ttfamily "{}date"{}}, {\ttfamily "{}time"{}} and {\ttfamily "{}date-\/time"{}} do not validate ranges in {\ttfamily "{}fast"{}} mode, only string structure, and other formats have simplified regular expressions.\hypertarget{md_node__modules_2ajv-formats_2README_autotoc_md5474}{}\doxysection{\texorpdfstring{Tests}{Tests}}\label{md_node__modules_2ajv-formats_2README_autotoc_md5474}

\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install}
\DoxyCodeLine{git\ submodule\ update\ -\/-\/init}
\DoxyCodeLine{npm\ test}

\end{DoxyCode}
\hypertarget{md_node__modules_2ajv-formats_2README_autotoc_md5475}{}\doxysection{\texorpdfstring{License}{License}}\label{md_node__modules_2ajv-formats_2README_autotoc_md5475}
\href{https://github.com/ajv-validator/ajv-formats/blob/master/LICENSE}{\texttt{ MIT}} 