\chapter{babel-\/plugin-\/transform-\/react-\/remove-\/prop-\/types}
\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README}{}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README}\index{babel-\/plugin-\/transform-\/react-\/remove-\/prop-\/types@{babel-\/plugin-\/transform-\/react-\/remove-\/prop-\/types}}
\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6399}%
\Hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6399}%
 \begin{quote}
Remove unnecessary React prop\+Types from the production build. \end{quote}
\href{https://www.npmjs.com/package/babel-plugin-transform-react-remove-prop-types}{\texttt{ }} \href{https://www.npmjs.com/package/babel-plugin-transform-react-remove-prop-types}{\texttt{ }} \href{https://travis-ci.org/oliviertassinari/babel-plugin-transform-react-remove-prop-types}{\texttt{ }}

\href{https://david-dm.org/oliviertassinari/babel-plugin-transform-react-remove-prop-types}{\texttt{ }} \href{https://david-dm.org/oliviertassinari/babel-plugin-transform-react-remove-prop-types?type=dev}{\texttt{ }}\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6400}{}\doxysection{\texorpdfstring{Installation}{Installation}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6400}

\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ -\/-\/save-\/dev\ babel-\/plugin-\/transform-\/react-\/remove-\/prop-\/types}

\end{DoxyCode}
\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6401}{}\doxysection{\texorpdfstring{The problem solved}{The problem solved}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6401}
Remove React {\ttfamily prop\+Types} from the production build, as they are only used in development. You can {\bfseries{save bandwidth}} by removing them.\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6402}{}\doxysection{\texorpdfstring{Example}{Example}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6402}
{\bfseries{In}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{const\ Baz\ =\ (props)\ =>\ (}
\DoxyCodeLine{\ \ <div\ \{...props\}\ />}
\DoxyCodeLine{);}
\DoxyCodeLine{}
\DoxyCodeLine{Baz.propTypes\ =\ \{}
\DoxyCodeLine{\ \ className:\ PropTypes.string}
\DoxyCodeLine{\};}

\end{DoxyCode}


{\bfseries{Out}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{const\ Baz\ =\ (props)\ =>\ (}
\DoxyCodeLine{\ \ <div\ \{...props\}\ />}
\DoxyCodeLine{);}

\end{DoxyCode}
\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6403}{}\doxysubsection{\texorpdfstring{With comment annotation}{With comment annotation}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6403}
The majority of cases should be addressed by default by this plugin.

In some cases, for example when using HOCs (High Order Components), like {\itshape react-\/redux}\textquotesingle{}s {\ttfamily connect}, or component inheritance (\href{https://facebook.github.io/react/docs/composition-vs-inheritance.html}{\texttt{ although it\textquotesingle{}s NOT recommended}}), a comment after the {\ttfamily prop\+Types} definition may be used to force the removal\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{Component.propTypes\ /*\ remove-\/proptypes\ */\ =\ \{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6404}{}\doxysection{\texorpdfstring{Usage}{Usage}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6404}
\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6405}{}\doxysubsection{\texorpdfstring{Via $<$tt$>$.\+babelrc$<$/tt$>$ (\+Recommended)}{Via <tt>.babelrc</tt> (Recommended)}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6405}
\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}.babelrc\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}

without options\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ "{}env"{}:\ \{}
\DoxyCodeLine{\ \ \ \ "{}production"{}:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ "{}plugins"{}:\ ["{}transform-\/react-\/remove-\/prop-\/types"{}]}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}


with options\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ "{}env"{}:\ \{}
\DoxyCodeLine{\ \ \ \ "{}production"{}:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ "{}plugins"{}:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ["{}transform-\/react-\/remove-\/prop-\/types"{},\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ "{}mode"{}:\ "{}wrap"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ "{}ignoreFilenames"{}:\ ["{}node\_modules"{}]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}]}
\DoxyCodeLine{\ \ \ \ \ \ ]}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6406}{}\doxysubsection{\texorpdfstring{Via CLI}{Via CLI}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6406}

\begin{DoxyCode}{0}
\DoxyCodeLine{babel\ -\/-\/plugins\ transform-\/react-\/remove-\/prop-\/types\ script.js}

\end{DoxyCode}
\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6407}{}\doxysubsection{\texorpdfstring{Via Node API}{Via Node API}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6407}
without options\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{require('babel-\/core').transform('code',\ \{}
\DoxyCodeLine{\ \ plugins:\ [}
\DoxyCodeLine{\ \ \ \ 'transform-\/react-\/remove-\/prop-\/types',}
\DoxyCodeLine{\ \ ],}
\DoxyCodeLine{\});}

\end{DoxyCode}


with options\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{require('babel-\/core').transform('code',\ \{}
\DoxyCodeLine{\ \ plugins:\ [}
\DoxyCodeLine{\ \ \ \ [}
\DoxyCodeLine{\ \ \ \ \ \ 'transform-\/react-\/remove-\/prop-\/types',}
\DoxyCodeLine{\ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ mode:\ 'wrap',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ignoreFilenames:\ ['node\_modules'],}
\DoxyCodeLine{\ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ ],}
\DoxyCodeLine{\ \ ],}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6408}{}\doxysection{\texorpdfstring{Options}{Options}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6408}
\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6409}{}\doxysubsection{\texorpdfstring{$<$tt$>$mode$<$/tt$>$}{<tt>mode</tt>}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6409}

\begin{DoxyItemize}
\item {\ttfamily remove} (default)\+: the {\ttfamily prop\+Types} definitions are removed from the source code.
\item {\ttfamily wrap}\+: the {\ttfamily prop\+Types} definitions are wrapped with the following code\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{Component.propTypes\ =\ process.env.NODE\_ENV\ !==\ "{}production"{}\ ?\ \{}
\DoxyCodeLine{\ \ //\ ...}
\DoxyCodeLine{\}\ :\ \{\};}

\end{DoxyCode}
 Accessing {\ttfamily Component.\+prop\+Types.\+class\+Name} won\textquotesingle{}t throw. It\textquotesingle{}s a tradeoff between the size of the output file and the likelihood libraries like \href{https://github.com/obipawan/react-native-hyperlink/pull/11}{\texttt{ react-\/native-\/hyperlink}} breaks.
\item {\ttfamily unsafe-\/wrap}\+: the {\ttfamily prop\+Types} definitions are wrapped with the following code\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{if\ (process.env.NODE\_ENV\ !==\ "{}production"{})\ \{}
\DoxyCodeLine{\ \ Component.propTypes\ =\ \{}
\DoxyCodeLine{\ \ \ \ //\ ...}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
 Accessing {\ttfamily Component.\+prop\+Types.\+class\+Name} will throw.
\end{DoxyItemize}

The {\itshape wrap} modes are targeting React libraries like \href{https://github.com/callemall/material-ui}{\texttt{ material-\/ui}} or \href{https://github.com/necolas/react-native-web}{\texttt{ react-\/native-\/web}}. They are not intended to be used by application authors.\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6410}{}\doxysubsection{\texorpdfstring{$<$tt$>$remove\+Import$<$/tt$>$}{<tt>removeImport</tt>}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6410}

\begin{DoxyItemize}
\item {\ttfamily true}\+: the import statements are removed as well. This option only works if {\ttfamily mode} is set to {\ttfamily remove}\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{import\ PropTypes\ from\ 'prop-\/types'}

\end{DoxyCode}

\item {\ttfamily false} (default)\+: does not remove the import statements.
\end{DoxyItemize}\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6411}{}\doxysubsection{\texorpdfstring{$<$tt$>$ignore\+Filenames$<$/tt$>$}{<tt>ignoreFilenames</tt>}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6411}
This filter generates a regular expression. Any filenames containing one of the array\textquotesingle{}s strings will be ignored. By {\bfseries{default}}, we match everything.

Following the Is it safe? section, you might encounter a component depending on the {\ttfamily prop\+Types} at runtime to work. For this reason, we provide an array options to filter out some files and folders. For instance, you can ignore all the npm modules\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{ignoreFilenames:\ ['node\_modules'],}

\end{DoxyCode}
\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6412}{}\doxysubsection{\texorpdfstring{$<$tt$>$additional\+Libraries$<$/tt$>$}{<tt>additionalLibraries</tt>}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6412}
This option gives the possibility to remove other {\ttfamily prop\+Types} in addition to the canonical {\ttfamily prop-\/types}.

For instance, by default 
\begin{DoxyCode}{0}
\DoxyCodeLine{import\ PropTypes\ from\ 'prop-\/types'}
\DoxyCodeLine{import\ ImmutablePropTypes\ from\ 'react-\/immutable-\/proptypes'}

\end{DoxyCode}
 will result in the latter not to be removed, while with\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{additionalLibraries:\ ['react-\/immutable-\/proptypes'],}

\end{DoxyCode}
 both will be removed.\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6413}{}\doxysubsubsection{\texorpdfstring{Regular expressions}{Regular expressions}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6413}
If you are using Babel 7 or newer and your config is stored in \href{https://babeljs.io/docs/en/configuration\#babelconfigjs}{\texttt{ {\ttfamily babel.\+config.\+js}}}, you can also use a regular expression to describe modules, which should be removed.

This would be particularly useful when using custom prop types validators, implemented as part of your own source code. For example


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ CustomPropTypes\ from\ '../../prop-\/types/my-\/own-\/validator'}
\DoxyCodeLine{import\ OtherCustomPropTypes\ from\ '../../prop-\/types/my-\/other-\/validator'}

\end{DoxyCode}


would be removed with the following setting


\begin{DoxyCode}{0}
\DoxyCodeLine{additionalLibraries:\ [/\(\backslash\)/prop-\/types\(\backslash\)/.*\$/]}

\end{DoxyCode}


If you use an index file


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ CustomPropTypes\ from\ '../../prop-\/types'}

\end{DoxyCode}


you could set it up as


\begin{DoxyCode}{0}
\DoxyCodeLine{additionalLibraries:\ [/\(\backslash\)/prop-\/types\$/]}

\end{DoxyCode}
\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6414}{}\doxysubsection{\texorpdfstring{$<$tt$>$class\+Name\+Matchers$<$/tt$>$}{<tt>classNameMatchers</tt>}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6414}
Use this option to enable this plugin to run on components that extend a class different than {\ttfamily React.\+Component} or {\ttfamily React.\+Pure\+Component}.

Given this example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{class\ MyComponent\ extends\ BaseComponent\ \{}
\DoxyCodeLine{\ \ ...}
\DoxyCodeLine{\}}

\end{DoxyCode}


You would use\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{classNameMatchers:\ ["{}BaseComponent"{}]}

\end{DoxyCode}
\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6415}{}\doxysubsection{\texorpdfstring{$<$tt$>$create\+React\+Class\+Name$<$/tt$>$}{<tt>createReactClassName</tt>}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6415}
Use this option to set a custom name for the import of the {\ttfamily create-\/react-\/class} package that is different than {\ttfamily create\+React\+Class}.

Given this example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ createClass\ from\ 'create-\/react-\/class';}

\end{DoxyCode}


You would use\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{createReactClassName:\ 'createClass'}

\end{DoxyCode}
\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6416}{}\doxysection{\texorpdfstring{Is it safe?}{Is it safe?}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6416}
If you are using the {\ttfamily prop\+Types} in a conventional way, i.\+e by using them to perform type checking on the properties, that plugin should be {\bfseries{safe to use}}.

However, some libraries are accessing the {\ttfamily prop\+Types} on the component directly. For instance \href{https://github.com/oblador/react-native-vector-icons/blob/3d1f2a5b7175d6e4c8985676940240776543ff60/lib/icon-button.js\#L59}{\texttt{ react-\/native-\/vector-\/icons}} use them to split the properties between two components\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{const\ touchableProps\ =\ pick(restProps,\ Object.keys(TouchableHighlight.propTypes));}

\end{DoxyCode}
 \+:warning\+: The plugin is breaking that code if it ends up removing {\ttfamily Touchable\+Highlight.\+prop\+Types}.

Make sure you are\+:
\begin{DoxyItemize}
\item Not using that pattern in your source code. If you do, explicitly {\bfseries{export}} the {\ttfamily prop\+Types} to work around that limitation.
\item Not parsing the {\ttfamily node\+\_\+modules}. If you do, test that your code is still working before shipping into production.
\end{DoxyItemize}

\href{https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/forbid-foreign-prop-types.md}{\texttt{ eslint-\/plugin-\/react has a rule forbid-\/foreign-\/prop-\/types}} that can help you make this plugin safer to use.\hypertarget{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6417}{}\doxysection{\texorpdfstring{License}{License}}\label{md_node__modules_2babel-plugin-transform-react-remove-prop-types_2README_autotoc_md6417}
MIT 